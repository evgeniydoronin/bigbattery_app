# ğŸ“± HOME SCREEN - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

**Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ:** 07.10.2025
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0
**ĞĞ²Ñ‚Ğ¾Ñ€:** Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ğ°Ğ·Ñ‹

---

## ğŸ“‹ Ğ¡ĞĞ”Ğ•Ğ Ğ–ĞĞĞ˜Ğ•

1. [ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹](#Ğ¾Ğ±Ğ·Ğ¾Ñ€-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹)
2. [Real-time Data Updates - Ğ¯Ğ´Ñ€Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹](#real-time-data-updates---ÑĞ´Ñ€Ğ¾-ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹)
3. [Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ² Lifecycle](#Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞ°-Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ²-lifecycle)
4. [Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ°](#Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·-ĞºĞ¾Ğ´Ğ°)
5. [ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ¿Ğ¾Ñ‚Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
6. [UI ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹](#ui-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹)
7. [Configuration Ğ¸ Mock Data](#configuration-Ğ¸-mock-data)
8. [Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ…ĞµĞ¼Ñ‹](#Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ-ÑÑ…ĞµĞ¼Ñ‹)
9. [FAQ Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹](#faq-Ğ¸-Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹)
10. [Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹](#ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ-Ñ„Ğ°Ğ¹Ğ»Ñ‹)

---

## ğŸ—ï¸ ĞĞ‘Ğ—ĞĞ  ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ«

### ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Home ÑĞºÑ€Ğ°Ğ½Ğ°

Home ÑĞºÑ€Ğ°Ğ½ - ÑÑ‚Ğ¾ **Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ real-time Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ BMS (Battery Management System):

- **Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ·Ğ°Ñ€ÑĞ´Ğ° Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸** (SOC - State of Charge)
- **Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸** (Charging, Discharging, Standby, etc.)
- **ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹** - Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ, Ñ‚Ğ¾Ğº, Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°
- **ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñ‹ ÑĞ²ÑĞ·Ğ¸** - Module ID, CAN, RS485
- **Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ** Ğ² 3 Ñ‚Ğ°Ğ±Ğ°Ñ…:
  - Summary - ÑĞ²Ğ¾Ğ´ĞºĞ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
  - Cell Voltage - Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ 16 ÑÑ‡ĞµĞµĞº
  - Temperature - Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ 5 Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ UI

```
HomeViewController
    â”œâ”€â”€ headerLogoView (HeaderLogoView)
    â”œâ”€â”€ ScrollView
    â”‚   â””â”€â”€ ContentStackView (UIStackView)
    â”‚       â”œâ”€â”€ BluetoothConnectionView - Ğ¿Ğ»Ğ°ÑˆĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
    â”‚       â”œâ”€â”€ BatteryProgressView - ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ·Ğ°Ñ€ÑĞ´Ğ°
    â”‚       â”œâ”€â”€ BatteryStatusView - Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°
    â”‚       â”œâ”€â”€ BatteryParametersView - Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ/Ñ‚Ğ¾Ğº/Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°
    â”‚       â”œâ”€â”€ ProtocolParametersView - Module ID/CAN/RS485
    â”‚       â”œâ”€â”€ TabsContainerView - ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸
    â”‚       â”‚   â”œâ”€â”€ SummaryTabView
    â”‚       â”‚   â”œâ”€â”€ CellVoltageTabView
    â”‚       â”‚   â””â”€â”€ TemperatureTabView
    â”‚       â””â”€â”€ TimerView - Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
```

### Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

**Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ:**
- `Zetara.Data.BMS` - ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS
- `ZetaraManager` - Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Bluetooth ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
- `Configuration` - ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
- 8+ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ñ… UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

**Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğµ:**
- `RxSwift` - Ñ€ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- `RxBluetoothKit2` - Bluetooth LE ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- `SnapKit` - Auto Layout DSL
- `GradientView` - Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ½Ñ‹Ğµ Ñ„Ğ¾Ğ½Ñ‹

---

## âš¡ REAL-TIME DATA UPDATES - Ğ¯Ğ´Ñ€Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

### ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

Home ÑĞºÑ€Ğ°Ğ½ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ **real-time Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…** Ğ¾Ñ‚ BMS Ñ‡ĞµÑ€ĞµĞ· Bluetooth.

#### Ğ¢Ñ€Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ°:

### 1. Timer - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

**ĞšĞ¾Ğ´:**
```swift
// Ğ¤Ğ°Ğ¹Ğ»: ZetaraManager.swift:414-427
func startRefreshBMSData() {
    self.timer = Timer.scheduledTimer(
        withTimeInterval: Self.configuration.refreshBMSTimeInterval,
        repeats: true
    ) { [weak self] _ in
        self?.getBMSData()
            .subscribe(onSuccess: { [weak self] _data in
                self?.bmsDataSubject.asObserver().onNext(_data)
            })
    }
    self.timer?.fire() // ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ€Ğ°Ğ·Ñƒ
}
```

**ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:**
- **Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»:** `refreshBMSTimeInterval` (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ **5 ÑĞµĞºÑƒĞ½Ğ´**)
- **Ğ ĞµĞ¶Ğ¸Ğ¼:** repeats: true - Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ»
- **ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· `.fire()`

**Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ»:**
```
ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ
    â†“
startRefreshBMSData() Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
    â†“
Timer Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº)
    â†“
getBMSData() â†’ bmsDataSubject.onNext()
    â†“
HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ â†’ updateUI()
```

**Background/Foreground handling:**
```swift
// Ğ¤Ğ°Ğ¹Ğ»: ZetaraManager.swift:97-105
// ĞŸÑ€Ğ¸ ÑƒÑ…Ğ¾Ğ´Ğµ Ğ² Ñ„Ğ¾Ğ½ - Ğ¾ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
UIApplication.didEnterBackgroundNotification â†’ pauseRefreshBMSData()

// ĞŸÑ€Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğ¸ - Ğ²Ğ¾Ğ·Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
UIApplication.willEnterForegroundNotification â†’ resumeRefreshBMSData()
```

---

### 2. Request Queue - ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Bluetooth Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ².

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Request Queue Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ¾Ğ¼ 500ms Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸.

**ĞšĞ¾Ğ´:**
```swift
// Ğ¤Ğ°Ğ¹Ğ»: ZetaraManager.swift:302-346
public func queuedRequest<T>(_ requestName: String,
                             _ request: @escaping () -> Maybe<T>) -> Maybe<T> {
    return Maybe.create { observer in
        self.requestQueue.async {
            // Ğ–Ğ´ĞµĞ¼ ĞµÑĞ»Ğ¸ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾ < 500ms Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
            if let lastTime = self.lastRequestTime {
                let elapsed = Date().timeIntervalSince(lastTime)
                if elapsed < self.minimumRequestInterval {
                    let waitTime = self.minimumRequestInterval - elapsed
                    Thread.sleep(forTimeInterval: waitTime)
                }
            }

            // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
            self.lastRequestTime = Date()

            // Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
            request().subscribe(...)
        }
    }
}
```

**ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:**
- **ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»:** 500ms (`minimumRequestInterval = 0.5`)
- **ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ:** Serial DispatchQueue (Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ)
- **Timeout:** 10 ÑĞµĞºÑƒĞ½Ğ´ (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ² RxSwift)

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
```swift
// ĞĞ° Settings ÑĞºÑ€Ğ°Ğ½Ğµ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²:
ZetaraManager.shared.queuedRequest("getModuleId") {
    ZetaraManager.shared.getModuleId()
}
```

**Ğ›Ğ¾Ğ³ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²:**
```
[QUEUE] ğŸ“¥ Request queued: getModuleId
[QUEUE] â³ Waiting 100ms before getModuleId
[QUEUE] ğŸš€ Executing getModuleId
[QUEUE] âœ… getModuleId completed in 320ms
```

---

### 3. Connection Monitor - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** "Phantom connections" - iOS Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ ĞºĞ°Ğº Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğµ, Ñ…Ğ¾Ñ‚Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ ÑĞ²ÑĞ·ÑŒ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½Ğ°.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· CoreBluetooth.

**ĞšĞ¾Ğ´:**
```swift
// Ğ¤Ğ°Ğ¹Ğ»: ZetaraManager.swift:351-399
func startConnectionMonitor() {
    connectionMonitorTimer = Timer.scheduledTimer(
        withTimeInterval: connectionCheckInterval,  // 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹
        repeats: true
    ) { [weak self] _ in
        self?.verifyConnectionState()
    }
}

func verifyConnectionState() {
    guard let peripheral = try? connectedPeripheralSubject.value() else {
        return  // ĞĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° - ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾
    }

    let currentState = peripheral.state

    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ Ğ•ĞĞ›Ğ¬ĞĞĞ• ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· CoreBluetooth
    if currentState != .connected {
        print("[CONNECTION] âš ï¸ Phantom connection detected!")
        cleanConnection()  // ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ°
    }
}
```

**ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:**
- **Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸:** 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹ (`connectionCheckInterval = 2.0`)
- **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°:** `peripheral.state != .connected`
- **Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ:** Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ñ‡ĞµÑ€ĞµĞ· `cleanConnection()`

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾:**
```
Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ±ĞµĞ· Connection Monitor:
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ğ» ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ âœ…
2. Ğ‘Ğ°Ñ‚Ğ°Ñ€ĞµÑ Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ° ğŸ”Œ
3. iOS ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ‹Ğ¼ âŒ
4. ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ "Connected" âŒ
5. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ âŒ

Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ñ Connection Monitor:
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ğ» ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ âœ…
2. Ğ‘Ğ°Ñ‚Ğ°Ñ€ĞµÑ Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ° ğŸ”Œ
3. Connection Monitor Ñ‡ĞµÑ€ĞµĞ· 2 ÑĞµĞº Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ âš ï¸
4. ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ñ‡ĞµÑ€ĞµĞ· cleanConnection() ğŸ§¹
5. UI Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ: "Tap to Connect" âœ…
```

---

## ğŸ”„ Ğ¦Ğ•ĞŸĞĞ§ĞšĞ Ğ’Ğ«Ğ—ĞĞ’ĞĞ’ LIFECYCLE

### Lifecycle Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     APP START                                â”‚
â”‚                                                              â”‚
â”‚  AppDelegate.didFinishLaunchingWithOptions()                â”‚
â”‚  â†’ ZetaraManager.setup(Configuration)                       â”‚
â”‚  â†’ refreshBMSTimeInterval = 5 ÑĞµĞº                           â”‚
â”‚  â†’ mockData (Ğ´Ğ»Ñ DEBUG ÑĞ±Ğ¾Ñ€Ğ¾Ğº)                              â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   viewDidLoad()                              â”‚
â”‚                                                              â”‚
â”‚  1. setupHeaderView()                                       â”‚
â”‚     â†’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²ÑĞµÑ… UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²                          â”‚
â”‚     â†’ ScrollView + ContentStackView                         â”‚
â”‚     â†’ 8 view ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ² ÑÑ‚ĞµĞºĞµ                           â”‚
â”‚                                                              â”‚
â”‚  2. setupObservers()                                        â”‚
â”‚     â†’ ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° observableState (Bluetooth)               â”‚
â”‚     â†’ ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° bmsDataSubject (Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ BMS)               â”‚
â”‚     â†’ ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° connectedPeripheralSubject (Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ)  â”‚
â”‚                                                              â”‚
â”‚  3. updateTitle()                                           â”‚
â”‚     â†’ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   viewWillAppear()                           â”‚
â”‚                                                              â”‚
â”‚  Ğ¡ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ navigation bar                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   viewDidAppear()                            â”‚
â”‚                                                              â”‚
â”‚  ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ğ¶ĞµÑÑ‚ ÑĞ¼Ğ°Ñ…Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½Ğ°Ğ·Ğ°Ğ´                            â”‚
â”‚  (Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ°Ğ½Ğ¸Ğ¹)                             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ•Ğ›Ğ¬ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§ĞĞ•Ğ¢ Ğ£Ğ¡Ğ¢Ğ ĞĞ™Ğ¡Ğ¢Ğ’Ğ (ConnectivityVC)       â”‚
â”‚                                                              â”‚
â”‚  connect(peripheral) â†’ connectedPeripheralSubject.onNext()  â”‚
â”‚     â†“                                                        â”‚
â”‚  startConnectionMonitor() â† Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2 ÑĞµĞº)â”‚
â”‚     â†“                                                        â”‚
â”‚  startRefreshBMSData() â† Ğ—Ğ°Ğ¿ÑƒÑĞº Timer (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº)       â”‚
â”‚     â†“                                                        â”‚
â”‚  Timer.fire() â†’ ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾                â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Ğ¦Ğ˜ĞšĞ› ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ˜Ğ¯ Ğ”ĞĞĞĞ«Ğ¥ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº)           â”‚
â”‚                                                              â”‚
â”‚  Timer ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´                          â”‚
â”‚     â†“                                                        â”‚
â”‚  getBMSData()                                               â”‚
â”‚     â†“                                                        â”‚
â”‚  Bluetooth Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ: writeValue(getBMSData)                   â”‚
â”‚     â†“                                                        â”‚
â”‚  ĞÑ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ BMS: observeValueUpdate()                         â”‚
â”‚     â†“                                                        â”‚
â”‚  ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°: bmsDataHandler.append(bytes)                    â”‚
â”‚     â†“                                                        â”‚
â”‚  bmsDataSubject.onNext(bmsData)                             â”‚
â”‚     â†“                                                        â”‚
â”‚  HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ                         â”‚
â”‚     â†“                                                        â”‚
â”‚  updateUI(bmsData)                                          â”‚
â”‚     â†“                                                        â”‚
â”‚  ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²:                               â”‚
â”‚    - BatteryProgressView (level = soc/100)                  â”‚
â”‚    - BatteryStatusView (status = charging/discharging)      â”‚
â”‚    - BatteryParametersView (V, A, T)                        â”‚
â”‚    - ProtocolParametersView (Module ID, CAN, RS485)         â”‚
â”‚    - SummaryTabView (max/min voltage, power, etc.)          â”‚
â”‚    - CellVoltageTabView (16 ÑÑ‡ĞµĞµĞº)                          â”‚
â”‚    - TemperatureTabView (5 Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)                        â”‚
â”‚    - TimerView (Last Update: 2025/10/07 12:34:56)          â”‚
â”‚                                                              â”‚
â”‚  â±ï¸  Ğ–Ğ´ĞµĞ¼ 5 ÑĞµĞºÑƒĞ½Ğ´...                                       â”‚
â”‚  â†» ĞŸĞĞ’Ğ¢ĞĞ                                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Ğ£Ğ¡Ğ¢Ğ ĞĞ™Ğ¡Ğ¢Ğ’Ğ ĞĞ¢ĞšĞ›Ğ®Ğ§Ğ˜Ğ›ĞĞ¡Ğ¬                             â”‚
â”‚                                                              â”‚
â”‚  observeDisconnect() â†’ cleanConnection()                    â”‚
â”‚     â†“                                                        â”‚
â”‚  stopConnectionMonitor() â† ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°            â”‚
â”‚     â†“                                                        â”‚
â”‚  timer?.invalidate() â† ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Timer                      â”‚
â”‚     â†“                                                        â”‚
â”‚  ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° ĞºÑÑˆĞ° Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²                                    â”‚
â”‚     â†“                                                        â”‚
â”‚  connectedPeripheralSubject.onNext(nil)                     â”‚
â”‚     â†“                                                        â”‚
â”‚  HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ nil                            â”‚
â”‚     â†“                                                        â”‚
â”‚  updateUI() â†’ ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ¾Ğ² ("-- V", "-- A")        â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Ğ”Ğ•Ğ¢ĞĞ›Ğ¬ĞĞ«Ğ™ ĞĞĞĞ›Ğ˜Ğ— ĞšĞĞ”Ğ

### 1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ UI (setupHeaderView)

**Ğ¤Ğ°Ğ¹Ğ»:** `HomeViewController.swift:202-459`

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
```swift
private func setupHeaderView() {
    // 1. ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ Ğ²ÑĞµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ view
    for subview in view.subviews {
        subview.removeFromSuperview()
    }

    // 2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ¾Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
    let backgroundImageView = UIImageView(image: R.image.background())
    view.addSubview(backgroundImageView)

    // 3. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑˆĞ°Ğ¿ĞºÑƒ Ñ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ğ¾Ğ¼
    view.addSubview(headerLogoView)
    headerLogoView.setupConstraints(in: view)

    // 4. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ ScrollView Ğ´Ğ»Ñ ÑĞºÑ€Ğ¾Ğ»Ğ»Ğ¸Ğ½Ğ³Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
    let scrollView = UIScrollView()
    scrollView.alwaysBounceVertical = true
    view.addSubview(scrollView)

    // 5. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ²ĞµÑ€Ñ‚Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ‚ĞµĞº Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
    let contentStackView = UIStackView()
    contentStackView.axis = .vertical
    contentStackView.spacing = 16  // ĞÑ‚ÑÑ‚ÑƒĞ¿Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
    scrollView.addSubview(contentStackView)

    // 6. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ 7 ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ² Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
    let bluetoothConnectionContainer = UIView()
    let batteryContainer = UIView()
    let batteryStatusContainer = UIView()
    let componentsContainer = UIView()
    let protocolsContainer = UIView()
    let tabsContainer = UIView()
    let timerContainer = UIView()

    // 7. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ² ÑÑ‚ĞµĞº
    contentStackView.addArrangedSubview(bluetoothConnectionContainer)
    contentStackView.addArrangedSubview(batteryContainer)
    contentStackView.addArrangedSubview(batteryStatusContainer)
    contentStackView.addArrangedSubview(componentsContainer)
    contentStackView.addArrangedSubview(protocolsContainer)
    contentStackView.addArrangedSubview(tabsContainer)
    contentStackView.addArrangedSubview(timerContainer)

    // 8. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹...
}
```

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
UIViewController.view
    â”œâ”€â”€ backgroundImageView (Ñ„Ğ¾Ğ½)
    â”œâ”€â”€ headerLogoView (ÑˆĞ°Ğ¿ĞºĞ°)
    â””â”€â”€ scrollView
        â””â”€â”€ contentStackView (Ğ²ĞµÑ€Ñ‚Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ‚ĞµĞº)
            â”œâ”€â”€ bluetoothConnectionContainer
            â”‚   â””â”€â”€ BluetoothConnectionView
            â”œâ”€â”€ batteryContainer
            â”‚   â””â”€â”€ BatteryProgressView (350x350)
            â”œâ”€â”€ batteryStatusContainer
            â”‚   â””â”€â”€ BatteryStatusView
            â”œâ”€â”€ componentsContainer (height: 80)
            â”‚   â””â”€â”€ BatteryParametersView
            â”œâ”€â”€ protocolsContainer (height: 86)
            â”‚   â””â”€â”€ ProtocolParametersView
            â”œâ”€â”€ tabsContainer (height: 330)
            â”‚   â””â”€â”€ TabsContainerView
            â””â”€â”€ timerContainer
                â””â”€â”€ TimerView
```

**Constraints (SnapKit):**
```swift
// ScrollView Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ´ ÑˆĞ°Ğ¿ĞºĞ¾Ğ¹
scrollView.snp.makeConstraints { make in
    make.top.equalTo(headerLogoView.bottomAnchor)
    make.leading.trailing.bottom.equalToSuperview()
}

// ContentStackView Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ÑˆĞ¸Ñ€Ğ¸Ğ½Ñƒ Ğ¸ Ğ²Ñ‹ÑĞ¾Ñ‚Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
contentStackView.snp.makeConstraints { make in
    make.edges.equalToSuperview()
    make.width.equalTo(scrollView)  // Ğ’Ğ°Ğ¶Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞºÑ€Ğ¾Ğ»Ğ»Ğ¸Ğ½Ğ³Ğ°
}

// BatteryProgressView (ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°)
batteryProgressView.snp.makeConstraints { make in
    make.center.equalToSuperview()
    make.width.height.equalTo(350)  // Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ ĞºÑ€ÑƒĞ³
    make.top.offset(16)
    make.bottom.offset(-16)
}

// TabsContainer (ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ±Ğ»Ğ¾Ğº)
tabsContainer.snp.makeConstraints { make in
    make.height.equalTo(330)  // Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ²Ñ‹ÑĞ¾Ñ‚Ğ° Ğ´Ğ»Ñ Ñ‚Ğ°Ğ±Ğ¾Ğ²
}
```

---

### 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº (setupObservers)

**Ğ¤Ğ°Ğ¹Ğ»:** `HomeViewController.swift:133-166`

```swift
func setupObservers() {

    // ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ 1: Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Bluetooth
    ZetaraManager.shared.observableState
        .subscribeOn(MainScheduler.instance)
        .subscribe { (state: BluetoothState) in
            switch state {
                case .poweredOff:
                    print("Bluetooth Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½")
                default:
                    return
            }
        }.disposed(by: disposeBag)

    // ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ 2: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ BMS (Ğ“Ğ›ĞĞ’ĞĞĞ¯ ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ!)
    ZetaraManager.shared.bmsDataSubject
        .subscribeOn(MainScheduler.instance)
        .observe(on: MainScheduler.instance)
        .subscribe { [weak self] _data in
            self?.updateUI(_data)  // â† ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ UI Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¸
        } onError: { error in
            print("er:\(error)")
        }.disposed(by: disposeBag)

    // ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ 3: ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğµ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾
    ZetaraManager.shared.connectedPeripheralSubject
        .subscribeOn(MainScheduler.instance)
        .observe(on: MainScheduler.instance)
        .subscribe { [weak self] (peripheral: ZetaraManager.ConnectedPeripheral?) in
            self?.updateTitle(peripheral)  // â† ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ¸Ğ¼Ñ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
        }.disposed(by: disposeBag)
}
```

**Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ÑÑ‚ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸:**

1. **observableState** - Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Bluetooth (poweredOn, poweredOff)
2. **bmsDataSubject** - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ BMS ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´ â†’ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ `updateUI()`
3. **connectedPeripheralSubject** - Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ/Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ UI

**RxSwift Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞ°:**
```
Timer ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº)
    â†“
getBMSData() â†’ Maybe<Data.BMS>
    â†“
bmsDataSubject.onNext(bmsData)  â† ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ
    â†“
.subscribe { data in ... }      â† HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚
    â†“
updateUI(data)                  â† ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ UI
```

---

### 3. ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ UI (updateUI)

**Ğ¤Ğ°Ğ¹Ğ»:** `HomeViewController.swift:461-590`

**Ğ¡Ğ°Ğ¼Ñ‹Ğ¹ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ² HomeViewController!**

```swift
func updateUI(_ data: Zetara.Data.BMS) {
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
    timerView.updateTime(Date())

    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
    let isDeviceActuallyConnected = ZetaraManager.shared.connectedPeripheral() != nil

    if isDeviceActuallyConnected {
        // ===== Ğ•Ğ¡Ğ¢Ğ¬ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ• - ĞĞ¢ĞĞ‘Ğ ĞĞ–ĞĞ•Ğœ Ğ Ğ•ĞĞ›Ğ¬ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ• =====

        // 1. Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ·Ğ°Ñ€ÑĞ´Ğ° (SOC â†’ 0.0...1.0)
        let battery = Float(data.soc)/100.0
        batteryProgressView.level = battery
        batteryProgressView.updateChargingStatus(isCharging: data.status == .charging)

        // 2. Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸
        batteryStatusView.updateStatusAnimated(data.status)

        // 3. ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
        batteryParametersView.updateVoltage("\(data.voltage)V")
        batteryParametersView.updateCurrent("\(data.current)A")

        // 4. Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° (ÑÑ€ĞµĞ´Ğ½ÑÑ Ğ¾Ñ‚ Ğ²ÑĞµÑ… Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)
        var totalTemp: Int = 0
        var tempCount = 0

        // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ PCB Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñƒ
        if data.tempPCB != 0 {
            totalTemp += Int(data.tempPCB)
            tempCount += 1
        }

        // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ²ÑĞµ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ ÑĞµĞ½ÑĞ¾Ñ€Ğ¾Ğ²
        for cellTemp in data.cellTemps {
            if cellTemp != 0 {
                totalTemp += Int(cellTemp)
                tempCount += 1
            }
        }

        // Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµĞ¼ ÑÑ€ĞµĞ´Ğ½ĞµĞµ (fallback Ğ½Ğ° tempEnv ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)
        let avgTemp = tempCount > 0 ? Int8(totalTemp / tempCount) : data.tempEnv
        batteryParametersView.updateTemperature("\(avgTemp.celsiusToFahrenheit())Â°F/\(avgTemp)Â°C")

        // 5. ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñ‹ (Ğ¸Ğ· ĞºÑÑˆĞ° ZetaraManager)
        protocolParametersView.updateValues()

        // 6. Summary Tab
        if let summaryView = self.summaryView {
            let maxVoltage = data.cellVoltages.max() ?? 0
            let minVoltage = data.cellVoltages.min() ?? 0
            let voltageDiff = maxVoltage - minVoltage
            let power = data.voltage * data.current
            let avgVoltage = data.cellVoltages.reduce(0, +) / Float(max(1, data.cellVoltages.count))

            summaryView.updateAllParameters(
                maxVoltage: maxVoltage,
                minVoltage: minVoltage,
                voltageDiff: voltageDiff,
                power: power,
                internalTemp: data.tempPCB,
                avgVoltage: avgVoltage
            )
        }

        // 7. Cell Voltage Tab (16 ÑÑ‡ĞµĞµĞº)
        if let cellVoltageView = self.cellVoltageView {
            cellVoltageView.updateCellVoltages(data.cellVoltages)
        }

        // 8. Temperature Tab (5 Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)
        if let temperatureView = self.temperatureView {
            temperatureView.updateTemperatures(
                pcbTemp: data.tempPCB,
                envTemp: data.tempEnv,
                cellTemps: data.cellTemps
            )
        }

    } else {
        // ===== ĞĞ•Ğ¢ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ¯ - ĞĞ¢ĞĞ‘Ğ ĞĞ–ĞĞ•Ğœ ĞŸĞ ĞĞ§Ğ•Ğ ĞšĞ˜ =====

        batteryProgressView.level = 0
        batteryStatusView.updateStatus(.standby)

        batteryParametersView.updateVoltage("-- V")
        batteryParametersView.updateCurrent("-- A")
        batteryParametersView.updateTemperature("-- Â°F/-- Â°C")

        summaryView?.updateAllParameters(..., showDashes: true)
        cellVoltageView?.updateCellVoltages([], showDashes: true)
        temperatureView?.updateTemperatures(..., showDashes: true)
    }
}
```

**Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°:**
- **ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´** (Ñ‡ĞµÑ€ĞµĞ· Timer Ğ² ZetaraManager)
- **ĞŸÑ€Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸** (Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· `.fire()`)
- **ĞŸÑ€Ğ¸ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸** (Ñ‡ĞµÑ€ĞµĞ· `connectedPeripheralSubject`)

---

### 4. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS (getBMSData)

**Ğ¤Ğ°Ğ¹Ğ»:** `ZetaraManager.swift:442-545`

**Ğ¡Ğ°Ğ¼Ñ‹Ğ¹ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ² ZetaraManager!**

```swift
func getBMSData() -> Maybe<Data.BMS> {
    print("!!! ĞœĞ•Ğ¢ĞĞ” getBMSData() Ğ’Ğ«Ğ—Ğ’ĞĞ !!!")

    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
    let isDeviceConnected = (try? connectedPeripheralSubject.value()) != nil &&
                            writeCharacteristic != nil &&
                            notifyCharacteristic != nil

    // MOCK DATA: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
    if !isDeviceConnected, let mockBMSData = Self.configuration.mockData {
        print("!!! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ !!!")
        return Maybe.create { [weak self] observer in
            let bytes = [UInt8](mockBMSData)

            // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‡ĞµÑ€ĞµĞ· BMSDataHandler
            if let data = self?.bmsDataHandler.append(bytes) {
                observer(.success(data))
            }

            return Disposables.create {}
        }
    }

    // REAL DATA: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
    guard let peripheral = try? connectedPeripheralSubject.value(),
          let writeCharacteristic = writeCharacteristic,
          let notifyCharacteristic = notifyCharacteristic else {
        print("!!! ĞĞ¨Ğ˜Ğ‘ĞšĞ: ĞĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° !!!")
        cleanConnection()
        return Maybe.error(ZetaraManager.Error.connectionError)
    }

    print("!!! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° !!!")

    // 1. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ½Ğ° Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS
    let data = Foundation.Data.getBMSData  // 01030000002705d0
    print("getting bms data write data: \(data.toHexString())")
    peripheral.writeValue(data, for: writeCharacteristic, type: .withResponse)

    // 2. Ğ–Ğ´ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ BMS
    return Maybe.create { observer in
        peripheral.observeValueUpdateAndSetNotification(for: notifyCharacteristic)
            .compactMap { $0.value }
            .do { print("recevie bms data: \($0.toHexString())") }
            .map { [UInt8]($0) }
            .filter { $0.crc16Verify() && Data.BMS.isBMSData($0) }  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° CRC16
            .compactMap { [weak self] _bytes in
                return self?.bmsDataHandler.append(_bytes)  // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²
            }
            .flatMap { Observable.of($0) }
            .subscribe { bmsEvent in
                switch bmsEvent {
                    case .next(let data):
                        observer(.success(data))  // â† ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² bmsDataSubject
                    default:
                        return
                }
            }

        return Disposables.create {}
    }
}
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**

1. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ** - ĞµÑÑ‚ÑŒ Ğ»Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾?
2. **Mock Data fallback** - ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ´Ğ»Ñ DEBUG)
3. **ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹** - `writeValue(getBMSData)` Ñ‡ĞµÑ€ĞµĞ· Bluetooth
4. **ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°** - `observeValueUpdate()` Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° notify characteristic
5. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° CRC16** - Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
6. **ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²** - `bmsDataHandler.append()` ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ñ‹
7. **ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…** - `observer(.success(data))` â†’ `bmsDataSubject`

**Bluetooth Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»:**

```
Request:  01 03 00 00 00 27 05 d0
          â”‚â”‚ â”‚â”‚ â”‚â”‚ â”‚â”‚ â”‚â”‚ â”‚â”‚ â””â””â”€ CRC16
          â”‚â”‚ â”‚â”‚ â”‚â”‚ â”‚â”‚ â””â””â”€ Length (39 bytes)
          â”‚â”‚ â”‚â”‚ â””â””â”€ Start address (0x0000)
          â”‚â”‚ â””â”€ Function code (0x03 = Read Holding Registers)
          â””â”€ Device address (0x01)

Response: 01 03 4E [78 bytes of BMS data] [CRC16]
          â”‚â”‚ â”‚â”‚ â””â”€ Length (78 bytes)
          â”‚â”‚ â””â”€ Function code (0x03)
          â””â”€ Device address (0x01)
```

---

### 5. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (BMSDataHandler)

**Ğ¤Ğ°Ğ¹Ğ»:** `Data.swift:143-198`

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** BMS Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ… (frames), ĞµÑĞ»Ğ¸ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ Ğ¸Ğ¼ĞµĞµÑ‚ > 16 ÑÑ‡ĞµĞµĞº.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** `BMSDataHandler` Ğ½Ğ°ĞºĞ°Ğ¿Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ.

```swift
class BMSDataHandler {
    var data: BMS?  // Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ´Ğ»Ñ Ğ½ĞµĞ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

    func append(_ bytes: [UInt8]) -> BMS? {
        if BMS.FunctionCode.isNormal(of: bytes) {
            // ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚ (frame 0)
            let cellCount = bytes.cellCount()

            let realBytes = Array(bytes[3 ..< bytes.count - 5])

            if let data = BMS(realBytes) {
                if data.cellCount <= 16 {
                    // Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğµ âœ…
                    reset()
                    return data
                } else {
                    // Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ…, ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾
                    self.data = data
                    return nil  // Ğ–Ğ´ĞµĞ¼ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ñ… Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²
                }
            }

        } else if var _data = self.data {
            // Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹/Ñ‚Ñ€ĞµÑ‚Ğ¸Ğ¹/... Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚ (frame 1, 2, ...)
            let frameNo = Int(bytes[2])
            let cellCountLeft = min(_data.cellCount - frameNo * 16, 16)

            // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ ÑÑ‡ĞµĞµĞº Ğ¸Ğ· ÑÑ‚Ğ¾Ğ³Ğ¾ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°
            let cellVoltages = bytes.voltagesFromOtherFrame(...)
            for index in ... {
                _data.cellVoltages.insert(cellVoltages[...], at: index)
            }

            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, ÑÑ‚Ğ¾ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚?
            let totalFrame = (_data.cellCount + 15) / 16
            if frameNo == totalFrame - 1 {
                // Ğ’ÑĞµ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ñ‹! âœ…
                reset()
                return _data
            }

            return nil  // Ğ–Ğ´ĞµĞ¼ ĞµÑ‰Ğµ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²
        }
    }
}
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ´Ğ»Ñ 32 ÑÑ‡ĞµĞµĞº:**

```
Frame 0 (isNormal):
  - ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: voltage, current, soc, status
  - Ğ¯Ñ‡ĞµĞ¹ĞºĞ¸ 1-16: voltages
  - frameNo = 0
  â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ

Frame 1 (isSplit):
  - Ğ¯Ñ‡ĞµĞ¹ĞºĞ¸ 17-32: voltages
  - frameNo = 1
  - totalFrame = 2
  - frameNo == totalFrame - 1 âœ…
  â†’ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
```

---

## ğŸ”€ ĞŸĞĞ¢ĞĞš Ğ”ĞĞĞĞ«Ğ¥

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BMS DEVICE                                 â”‚
â”‚                     (Battery Hardware)                            â”‚
â”‚                                                                   â”‚
â”‚  Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ:                                                          â”‚
â”‚  - Voltage (53.35V)                                              â”‚
â”‚  - Current (0.35A)                                               â”‚
â”‚  - SOC (87%)                                                     â”‚
â”‚  - Status (Charging)                                             â”‚
â”‚  - 16 Cell Voltages [3.253, 3.213, ...]                         â”‚
â”‚  - 4 Cell Temps [24Â°C, 25Â°C, 24Â°C, 24Â°C]                        â”‚
â”‚  - PCB Temp, Env Temp                                            â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ Bluetooth LE (Service 1006)
                             â”‚ Write: 1008, Notify: 1007
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ZETA MANAGER                                â”‚
â”‚                    (Bluetooth Manager)                           â”‚
â”‚                                                                   â”‚
â”‚  1. Timer (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº)                                        â”‚
â”‚     â†’ getBMSData()                                              â”‚
â”‚                                                                   â”‚
â”‚  2. Bluetooth Request                                            â”‚
â”‚     writeValue(0x01030000002705d0)                              â”‚
â”‚                                                                   â”‚
â”‚  3. Bluetooth Response                                           â”‚
â”‚     observeValueUpdate()                                         â”‚
â”‚     â†’ [UInt8] bytes                                              â”‚
â”‚                                                                   â”‚
â”‚  4. Validation                                                   â”‚
â”‚     .crc16Verify() âœ…                                            â”‚
â”‚     .isBMSData() âœ…                                              â”‚
â”‚                                                                   â”‚
â”‚  5. Parsing                                                      â”‚
â”‚     bmsDataHandler.append(bytes)                                 â”‚
â”‚     â†’ Data.BMS struct                                            â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ RxSwift Observable
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BEHAVIOR SUBJECT                                â”‚
â”‚                                                                   â”‚
â”‚  bmsDataSubject: BehaviorSubject<Data.BMS>                      â”‚
â”‚                                                                   â”‚
â”‚  .onNext(bmsData) â† ĞĞ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº                  â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ .subscribe { data in ... }
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 HOME VIEW CONTROLLER                             â”‚
â”‚                                                                   â”‚
â”‚  .subscribe { [weak self] data in                               â”‚
â”‚      self?.updateUI(data)                                       â”‚
â”‚  }                                                               â”‚
â”‚                                                                   â”‚
â”‚  updateUI(data: Data.BMS) {                                     â”‚
â”‚      // Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· struct                              â”‚
â”‚      let battery = Float(data.soc) / 100.0                      â”‚
â”‚      let voltage = data.voltage                                 â”‚
â”‚      let current = data.current                                 â”‚
â”‚      // ...                                                      â”‚
â”‚                                                                   â”‚
â”‚      // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹                                 â”‚
â”‚      batteryProgressView.level = battery                        â”‚
â”‚      batteryParametersView.updateVoltage("\(voltage)V")         â”‚
â”‚      // ...                                                      â”‚
â”‚  }                                                               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â†“                â†“                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BatteryProgress  â”‚ â”‚  BatteryPara â”‚ â”‚  TabsContainer  â”‚
â”‚      View        â”‚ â”‚   metersView â”‚ â”‚      View       â”‚
â”‚                  â”‚ â”‚              â”‚ â”‚                 â”‚
â”‚  level = 0.87    â”‚ â”‚  V: 53.35V   â”‚ â”‚  Summary Tab    â”‚
â”‚  (87%)           â”‚ â”‚  A: 0.35A    â”‚ â”‚  CellVolt Tab   â”‚
â”‚                  â”‚ â”‚  T: 24Â°C     â”‚ â”‚  Temp Tab       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Data.BMS

**Ğ¤Ğ°Ğ¹Ğ»:** `Data.swift:12-141`

```swift
public struct BMS {
    // ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
    public var voltage: Float = 0        // ĞĞ±Ñ‰ĞµĞµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸ (V)
    public var current: Float = 0        // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ‚Ğ¾Ğº (A, Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼)
    public var soc: Int = 0              // State of Charge (0-100%)
    public var soh: Int = 0              // State of Health (0-100%)
    public var status: Status = .standby // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ (charging, discharging, etc.)

    // Ğ¯Ñ‡ĞµĞ¹ĞºĞ¸
    public var cellCount: Int = 0                 // ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‡ĞµĞµĞº
    public var cellVoltages: Array<Float> = []    // ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ ÑÑ‡ĞµĞµĞº (Ğ´Ğ¾ 16)
    public var cellTemps: Array<Int8> = []        // Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ ÑÑ‡ĞµĞµĞº (Ğ´Ğ¾ 4)

    // Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹
    public var tempPCB: Int8 = 0   // Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿Ğ»Ğ°Ñ‚Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
    public var tempEnv: Int8 = 0   // Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¾ĞºÑ€ÑƒĞ¶Ğ°ÑÑ‰ĞµĞ¹ ÑÑ€ĞµĞ´Ñ‹

    // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑÑ‹
    public enum Status {
        case charging      // Ğ—Ğ°Ñ€ÑĞ´ĞºĞ°
        case disCharging   // Ğ Ğ°Ğ·Ñ€ÑĞ´ĞºĞ°
        case protecting    // Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ°
        case chargingLimit // Ğ›Ğ¸Ğ¼Ğ¸Ñ‚ Ğ·Ğ°Ñ€ÑĞ´ĞºĞ¸
        case standby       // ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ
    }
}
```

**Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ² Ğ±Ğ°Ğ¹Ñ‚Ğ¾Ğ²Ğ¾Ğ¼ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğµ:**
```swift
enum Index: Int {
    case function = 1         // Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ´
    case totalVoltage = 0     // ĞĞ±Ñ‰ĞµĞµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ (2 Ğ±Ğ°Ğ¹Ñ‚Ğ°)
    case current = 2          // Ğ¢Ğ¾Ğº (2 Ğ±Ğ°Ğ¹Ñ‚Ğ°)
    case tempPCB = 36         // Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° PCB
    case tempMax = 40         // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°
    case soh = 46             // State of Health
    case soc = 48             // State of Charge
    case status = 51          // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸
    case cellCount = 72       // ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‡ĞµĞµĞº
    case cellVoltage = 4      // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğ¹
    case cellTemps = 66       // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€
}
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ€Ğ°Ğ·Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:**
```
Ğ‘Ğ°Ğ¹Ñ‚Ñ‹: 01 03 4E 14 BA 00 00 0C B1 0C B4 0C B1 0C B2 ...
       â”‚â”‚ â”‚â”‚ â”‚â”‚ â””â””â”€â”€ totalVoltage (0x14BA = 5306 â†’ 53.06V)
       â”‚â”‚ â”‚â”‚ â””â”€ length (78 bytes)
       â”‚â”‚ â””â”€ function (0x03)
       â””â”€ address (0x01)

cellVoltage[0]: 0C B1 = 3249 â†’ 3.249V
cellVoltage[1]: 0C B4 = 3252 â†’ 3.252V
...

soc: 65 = 101 â†’ 101% (Ğ¾ÑˆĞ¸Ğ±ĞºĞ°, max 100)
```

---

## ğŸ¨ UI ĞšĞĞœĞŸĞĞĞ•ĞĞ¢Ğ«

### 1. BluetoothConnectionView

**Ğ¤Ğ°Ğ¹Ğ»:** `BluetoothConnectionView.swift:13-137`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞŸĞ»Ğ°ÑˆĞºĞ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ Bluetooth.

**UI Structure:**
```
BluetoothConnectionView
    â””â”€â”€ containerView (Ğ±ĞµĞ»Ñ‹Ğ¹ Ñ„Ğ¾Ğ½, rounded corners)
        â”œâ”€â”€ bluetoothImageView (Ğ¸ĞºĞ¾Ğ½ĞºĞ° Bluetooth)
        â”œâ”€â”€ deviceNameLabel ("Tap to Connect" / "Husky 2")
        â””â”€â”€ addButton (ĞºĞ½Ğ¾Ğ¿ĞºĞ° "+")
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
func updateDeviceName(_ name: String?) {
    deviceNameLabel.text = name ?? "Tap to Connect"
}

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ
var onTap: (() -> Void)?
```

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² HomeViewController:**
```swift
// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ
let bluetoothConnectionView = BluetoothConnectionView()

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ
bluetoothConnectionView.onTap = { [weak self] in
    self?.handleBluetoothConnectionTap()
}

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸
bluetoothConnectionView.updateDeviceName(deviceName)
```

**UI States:**
```
ĞĞ•Ğ¢ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ¯:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”µ  Tap to Connect              [+]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ğ•Ğ¡Ğ¢Ğ¬ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ•:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”µ  Husky 2 (Mock)              [+]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. BatteryProgressView

**Ğ¤Ğ°Ğ¹Ğ»:** `BatteryProgressView.swift:12-250`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° Ğ·Ğ°Ñ€ÑĞ´Ğ° Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸.

**UI Structure:**
```
BatteryProgressView (350x350)
    â”œâ”€â”€ outerCircleLayer (ÑĞµÑ€Ñ‹Ğ¹ ĞºÑ€ÑƒĞ³)
    â”œâ”€â”€ progressLayer (Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹/Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹/ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ ĞºÑ€ÑƒĞ³)
    â”œâ”€â”€ batteryImageContainer
    â”‚   â””â”€â”€ huskyImageView (Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ husky2)
    â”œâ”€â”€ percentLabelContainer (ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ¼)
    â”‚   â””â”€â”€ percentLabel ("87%")
    â”œâ”€â”€ minLabel ("0")
    â””â”€â”€ maxLabel ("100")
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ğ·Ğ°Ñ€ÑĞ´Ğ° (0.0 - 1.0)
var level: Float {
    get { return _level }
    set {
        _level = min(max(newValue, 0.0), 1.0)
        updateProgress(animated: true)
    }
}

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ·Ğ°Ñ€ÑĞ´ĞºĞ¸
func updateChargingStatus(isCharging: Bool) {
    // ĞŸÑƒÑÑ‚Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
}
```

**Ğ¦Ğ²ĞµÑ‚Ğ° Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°:**
```swift
private var progressColor: UIColor {
    if _level <= 0.1 {
        return .systemRed      // 0-10%: ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹
    } else if _level <= 0.3 {
        return .systemOrange   // 11-30%: ĞÑ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹
    } else {
        return .systemGreen    // 31-100%: Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹
    }
}
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
        100
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â”‚  â–ˆâ–ˆâ–ˆâ–ˆ   â”‚  â† progressLayer (Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹, strokeEnd = 0.87)
    â”‚  â–ˆâ–ˆâ–ˆâ–ˆ   â”‚
    â”‚  â–ˆâ–ˆâ–ˆâ–ˆ   â”‚
    â”‚   87%   â”‚  â† percentLabel Ñ Ñ†Ğ²ĞµÑ‚Ğ½Ñ‹Ğ¼ Ñ„Ğ¾Ğ½Ğ¾Ğ¼
    â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
0                 â† minLabel, maxLabel
```

---

### 3. BatteryStatusView

**Ğ¤Ğ°Ğ¹Ğ»:** `BatteryStatusView.swift:13-126`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸ Ñ Ñ†Ğ²ĞµÑ‚Ğ½Ñ‹Ğ¼ Ñ„Ğ¾Ğ½Ğ¾Ğ¼.

**UI Structure:**
```
BatteryStatusView
    â””â”€â”€ containerView (Ñ†Ğ²ĞµÑ‚Ğ½Ğ¾Ğ¹ Ñ„Ğ¾Ğ½)
        â””â”€â”€ statusLabel ("Charging", "Standby", etc.)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°
func updateStatus(_ status: Zetara.Data.BMS.Status) {
    currentStatus = status
    statusLabel.text = status.description
    updateStatusStyle()
}

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹
func updateStatusAnimated(_ status: Zetara.Data.BMS.Status) {
    UIView.transition(with: statusLabel, duration: 0.3) {
        self.statusLabel.text = status.description
    }
    UIView.animate(withDuration: 0.3) {
        self.updateStatusStyle()
    }
}
```

**Ğ¦Ğ²ĞµÑ‚Ğ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²:**
```swift
switch currentStatus {
case .charging:
    backgroundColor = UIColor.systemGreen.withAlphaComponent(0.2)
    textColor = UIColor.systemGreen

case .disCharging:
    backgroundColor = UIColor.systemOrange.withAlphaComponent(0.2)
    textColor = UIColor.systemOrange

case .protecting:
    backgroundColor = UIColor.systemRed.withAlphaComponent(0.2)
    textColor = UIColor.systemRed

case .standby:
    backgroundColor = UIColor.systemGray.withAlphaComponent(0.2)
    textColor = UIColor.systemGray
}
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
CHARGING:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Charging   â”‚  â† Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ + Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STANDBY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Standby    â”‚  â† Ğ¡ĞµÑ€Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ + ÑĞµÑ€Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. BatteryParametersView

**Ğ¤Ğ°Ğ¹Ğ»:** `BatteryParametersView.swift:13-151`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ 3 Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² (Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ, Ñ‚Ğ¾Ğº, Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°).

**UI Structure:**
```
BatteryParametersView
    â””â”€â”€ stackView (horizontal)
        â”œâ”€â”€ voltageComponentView (ComponentView)
        â”œâ”€â”€ currentComponentView (ComponentView)
        â””â”€â”€ temperatureComponentView (ComponentView)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
func updateVoltage(_ value: String)
func updateCurrent(_ value: String)
func updateTemperature(_ value: String)

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
func updateAllParameters(voltage: String, current: String, temperature: String)

// Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
func reorderComponents(order: [ComponentType])
```

**ComponentView:**
```swift
// ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:
- icon: UIImage (Ğ¸ĞºĞ¾Ğ½ĞºĞ°)
- title: String ("Total Voltage")
- value: String ("53.35V")
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ 53.35V  â”‚  âš¡ 0.35A   â”‚  ğŸŒ¡ 24Â°C/75Â°Fâ”‚
â”‚ Total       â”‚ Total       â”‚ Total Temp. â”‚
â”‚ Voltage     â”‚ Current     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. ProtocolParametersView

**Ğ¤Ğ°Ğ¹Ğ»:** `ProtocolParametersView.swift:14-163`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² ÑĞ²ÑĞ·Ğ¸ (Module ID, CAN, RS485).

**UI Structure:**
```
ProtocolParametersView
    â””â”€â”€ stackView (horizontal)
        â”œâ”€â”€ moduleIdBlock (ProtocolBlock)
        â”œâ”€â”€ canBlock (ProtocolBlock)
        â””â”€â”€ rs485Block (ProtocolBlock)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ¸Ğ· ĞºÑÑˆĞ° ZetaraManager
func updateValues() {
    // Module ID
    if let moduleIdData = ZetaraManager.shared.cachedModuleIdData {
        moduleIdBlock.setValue(moduleIdData.readableId())  // "ID 1"
    }

    // CAN
    if let canData = ZetaraManager.shared.cachedCANData {
        canBlock.setValue(canData.readableProtocol())  // "PYLON"
    }

    // RS485
    if let rs485Data = ZetaraManager.shared.cachedRS485Data {
        rs485Block.setValue(rs485Data.readableProtocol())  // "Generic"
    }
}
```

**ProtocolBlock:**
```swift
private class ProtocolBlock: UIView {
    private let titleLabel: UILabel   // "Selected ID"
    private let valueLabel: UILabel   // "ID 1"

    func setValue(_ value: String) {
        valueLabel.text = value
    }
}
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ID 1    â”‚    PYLON    â”‚   Generic   â”‚
â”‚  Selected   â”‚  Selected   â”‚  Selected   â”‚
â”‚     ID      â”‚     CAN     â”‚    RS485    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞÑ‚ĞºÑƒĞ´Ğ° Ğ±ĞµÑ€ÑƒÑ‚ÑÑ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ?**

Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸ Ğº ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ:

```swift
// ConnectivityViewController.swift:144-147
ZetaraManager.shared.connect(peripheral)
    .subscribe(onNext: { [weak self] connectedPeripheral in
        // Ğ§ĞµÑ€ĞµĞ· 1.5 ÑĞµĞº Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñ‹
        DispatchQueue.main.asyncAfter(deadline: .now() + 1.5) {
            self?.loadProtocolsViaQueue()
        }
    })

func loadProtocolsViaQueue() {
    // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Module ID â†’ CAN â†’ RS485 Ñ‡ĞµÑ€ĞµĞ· Request Queue
    ZetaraManager.shared.queuedRequest("getModuleId") {
        ZetaraManager.shared.getModuleId()
    }
    .subscribe(onSuccess: { data in
        ZetaraManager.shared.cachedModuleIdData = data  // â† Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ² ĞºÑÑˆ
    })

    // ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ CAN Ğ¸ RS485
}
```

---

### 6. TabsContainerView

**Ğ¤Ğ°Ğ¹Ğ»:** `TabsContainerView.swift:18-282`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ 3 Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸ (Summary, Cell Voltage, Temperature).

**UI Structure:**
```
TabsContainerView
    â””â”€â”€ innerContainer (Ğ±ĞµĞ»Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ Ñ Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼)
        â”œâ”€â”€ tabButtonsStackView (ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ñ‚Ğ°Ğ±Ğ¾Ğ²)
        â”‚   â”œâ”€â”€ "Summary" Button
        â”‚   â”œâ”€â”€ "Cell Voltage" Button
        â”‚   â””â”€â”€ "Temperature" Button
        â””â”€â”€ tabContentContainer
            â”œâ”€â”€ SummaryTabView (ÑĞºÑ€Ñ‹Ñ‚/Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½)
            â”œâ”€â”€ CellVoltageTabView (ÑĞºÑ€Ñ‹Ñ‚/Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½)
            â””â”€â”€ TemperatureTabView (ÑĞºÑ€Ñ‹Ñ‚/Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ°Ğ±Ğ°
func activateTab(at index: Int) {
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
    for (i, button) in tabButtons.enumerated() {
        updateTabButtonAppearance(button, isActive: i == index)
    }

    // ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ñ‚Ğ°Ğ±Ğ°
    tabContents[index].isHidden = false
}

// ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğ³Ğ¾ Ñ‚Ğ°Ğ±Ğ¾Ğ²
func getSummaryTabView() -> SummaryTabView?
func getCellVoltageTabView() -> CellVoltageTabView?
func getTemperatureTabView() -> TemperatureTabView?
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Summary] [Cell Voltage] [Temperature]      â”‚  â† ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ñ‚Ğ°Ğ±Ğ¾Ğ²
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Max. Voltage    Min. Voltage  ...    â”‚ â”‚
â”‚  â”‚     3.253V          3.213V            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â† ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ‚Ğ°Ğ± (Summary)
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Power           Int. Temp    ...     â”‚ â”‚
â”‚  â”‚   5.1W              75Â°F              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7. SummaryTabView

**Ğ¤Ğ°Ğ¹Ğ»:** `SummaryTabView.swift:11-357`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ¸Ğ· 6 Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² Ğ²Ğ¸Ğ´Ğµ ÑĞµÑ‚ĞºĞ¸ 3x2.

**UI Structure:**
```
SummaryTabView
    â”œâ”€â”€ maxVoltageView (ParameterView)
    â”œâ”€â”€ minVoltageView (ParameterView)
    â”œâ”€â”€ voltageDiffView (ParameterView)
    â”œâ”€â”€ powerView (ParameterView)
    â”œâ”€â”€ internalTempView (ParameterView)
    â””â”€â”€ avgVoltageView (ParameterView)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
func updateAllParameters(
    maxVoltage: Float,
    minVoltage: Float,
    voltageDiff: Float,
    power: Float,
    internalTemp: Int8,
    avgVoltage: Float,
    showDashes: Bool = false
)

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
func updateMaxVoltage(_ value: Float)
func updateMinVoltage(_ value: Float)
// ...
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ 3.253 V  â”‚ âš¡ 3.213 V  â”‚ âš¡ 0.040 V  â”‚
â”‚ Max.        â”‚ Min.        â”‚ Voltage     â”‚
â”‚ Voltage     â”‚ Voltage     â”‚ Dif.        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ 5.1 W    â”‚ ğŸŒ¡ 75Â° F    â”‚ âš¡ 3.233 V  â”‚
â”‚ Power       â”‚ Int. Temp.  â”‚ Ave.        â”‚
â”‚             â”‚             â”‚ Voltage     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ParameterView:**
```swift
class ParameterView: UIView {
    private let iconImageView: UIImageView     // Ğ˜ĞºĞ¾Ğ½ĞºĞ°
    private let valueLabel: UILabel            // Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ (3.253 V)
    private let titleLabel: UILabel            // ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ (Max. Voltage)

    func setup(title: String, subtitle: String, icon: UIImage?)
    func updateValue(_ value: String)
}
```

---

### 8. CellVoltageTabView

**Ğ¤Ğ°Ğ¹Ğ»:** `CellVoltageTabView.swift:12-367`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ 16 ÑÑ‡ĞµĞµĞº Ğ² Ğ²Ğ¸Ğ´Ğµ ÑĞµÑ‚ĞºĞ¸ 4x4.

**UI Structure:**
```
CellVoltageTabView
    â””â”€â”€ collectionView (UICollectionView)
        â”œâ”€â”€ Cell 1 (3.25V)
        â”œâ”€â”€ Cell 2 (3.26V)
        â”œâ”€â”€ ...
        â””â”€â”€ Cell 16 (3.25V)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğ¹ ÑÑ‡ĞµĞµĞº
func updateCellVoltages(_ voltages: [Float], showDashes: Bool = false) {
    cellVoltages = voltages
    self.showDashes = showDashes
    collectionView.reloadData()
}
```

**CellVoltageCell:**
```swift
class CellVoltageCell: UICollectionViewCell {
    private let iconImageView: UIImageView     // Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸
    private let voltageLabel: UILabel          // ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ (3.25 V)
    private let cellNumberLabel: UILabel       // ĞĞ¾Ğ¼ĞµÑ€ ÑÑ‡ĞµĞ¹ĞºĞ¸ (Cell 1)

    func configure(voltage: Float, cellNumber: Int)
    func configureDashes(cellNumber: Int)  // Ğ”Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ¾Ğ²
}
```

**Layout:**
```
4 ÑÑ‡ĞµĞ¹ĞºĞ¸ Ğ² Ñ€ÑĞ´:
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚
â”‚3.25 Vâ”‚3.26 Vâ”‚3.25 Vâ”‚3.24 Vâ”‚
â”‚Cell 1â”‚Cell 2â”‚Cell 3â”‚Cell 4â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚ ğŸ”‹   â”‚
â”‚3.25 Vâ”‚3.26 Vâ”‚3.25 Vâ”‚3.24 Vâ”‚
â”‚Cell 5â”‚Cell 6â”‚Cell 7â”‚Cell 8â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ ...  â”‚ ...  â”‚ ...  â”‚ ...  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² HomeViewController:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
cellVoltageView?.updateCellVoltages(data.cellVoltages)

// ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ¾Ğ² (Ğ½ĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ)
cellVoltageView?.updateCellVoltages([], showDashes: true)
```

---

### 9. TemperatureTabView

**Ğ¤Ğ°Ğ¹Ğ»:** `TemperatureTabView.swift:12-426`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ 5 Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ² Ğ² Ğ²Ğ¸Ğ´Ğµ ÑĞ¿Ğ¸ÑĞºĞ°.

**UI Structure:**
```
TemperatureTabView
    â””â”€â”€ tableView (UITableView)
        â”œâ”€â”€ Section 0: Temp. Sensor #1 (PCB)
        â”œâ”€â”€ Section 1: Temp. Sensor #2 (Env)
        â”œâ”€â”€ Section 2: Temp. Sensor #3 (Cell 1)
        â”œâ”€â”€ Section 3: Temp. Sensor #4 (Cell 2)
        â””â”€â”€ Section 4: Temp. Sensor #5 (Cell 3)
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€
func updateTemperatures(
    pcbTemp: Int8,
    envTemp: Int8,
    cellTemps: [Int8],
    showDashes: Bool = false
) {
    temperatures.removeAll()

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ PCB Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñƒ
    temperatures.append(TemperatureSensorData(
        name: "Temp. Sensor #1",
        fahrenheit: Int(pcbTemp.celsiusToFahrenheit()),
        celsius: Int(pcbTemp)
    ))

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Env Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñƒ
    temperatures.append(...)

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Cell Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹
    for (index, temp) in cellTemps.enumerated() {
        temperatures.append(...)
    }

    tableView.reloadData()
}
```

**TemperatureSensorCell:**
```swift
class TemperatureSensorCell: UITableViewCell {
    private let iconImageView: UIImageView         // Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ñ‚ĞµÑ€Ğ¼Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ°
    private let nameLabel: UILabel                 // "Temp. Sensor #1"
    private let temperatureLabel: UILabel          // "75Â°F / 24Â°C"

    func configure(with data: TemperatureSensorData)
}
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ¡ Temp. Sensor #1      75Â°F / 24Â°C     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ Temp. Sensor #2      75Â°F / 24Â°C     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ Temp. Sensor #3      75Â°F / 24Â°C     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ Temp. Sensor #4      75Â°F / 24Â°C     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ Temp. Sensor #5      75Â°F / 24Â°C     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 10. TimerView

**Ğ¤Ğ°Ğ¹Ğ»:** `TimerView.swift:12-80`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

**UI Structure:**
```
TimerView
    â””â”€â”€ timeLabel ("Last Update: 2025/10/07 12:34:56")
```

**ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
func updateTime(_ time: Date) {
    timeLabel.text = "Last Update: \(dateFormatter.string(from: time))"
}

// Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ/Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
func setHidden(_ isHidden: Bool) {
    timeLabel.isHidden = isHidden
}
```

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² HomeViewController:**
```swift
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ updateUI
func updateUI(_ data: Zetara.Data.BMS) {
    timerView.updateTime(Date())  // â† ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼Ñ
    // ...
}
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Last Update: 2025/10/07 12:34:56        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ CONFIGURATION Ğ˜ MOCK DATA

### Configuration ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

**Ğ¤Ğ°Ğ¹Ğ»:** `Configuration.swift:10-48`

```swift
public struct Configuration {
    let identifiers: [Identifier]               // Bluetooth Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹ (v1, v2)
    let refreshBMSTimeInterval: TimeInterval    // Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ (5 ÑĞµĞº)
    var mockData: Foundation.Data? = nil        // ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
    var mockSetModuleIdData: Foundation.Data?   // ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Module ID
    var mockDeviceName: String? = nil           // Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğº-ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°

    // ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
    public static let `default` = Configuration(
        identifiers: [.v2],
        refreshBMSTimeInterval: 4
    )
}
```

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ² AppDelegate

**Ğ¤Ğ°Ğ¹Ğ»:** `AppDelegate.swift:18-46`

```swift
func application(_ application: UIApplication,
                 didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {

    // ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ZetaraManager
    var mockDataForConfig: Foundation.Data? = nil
    var mockDeviceNameForConfig: String? = nil

    #if DEBUG
    // Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ñ‹Ñ… ÑĞ±Ğ¾Ñ€Ğ¾Ğº
    mockDataForConfig = Foundation.Data.mockCellTempsData
    mockDeviceNameForConfig = "Husky 2 (Mock)"
    #endif

    let config = Configuration(
        identifiers: [.v1, .v2],
        refreshBMSTimeInterval: 5,          // â† Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ 5 ÑĞµĞº
        mockData: mockDataForConfig,        // â† ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ DEBUG
        mockDeviceName: mockDeviceNameForConfig
    )

    ZetaraManager.setup(config)

    return true
}
```

### Mock Data Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹

**Ğ¤Ğ°Ğ¹Ğ»:** `Configuration.swift:85-98`

```swift
// 1. ĞĞ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
public static let mockNormalBMSData = Foundation.Data(hex:
    "01034e053200000cfe0cff0cff0d01000000000000000000000000000000000000000000000000000f00000010005d00640064005e00000000000000000003000015752a00101000000000000403e8000075da"
)

// 2. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ñ€ÑĞ´ĞºĞµ
public static let mockInChargingBMSData = Foundation.Data(hex:
    "01034E052D00690CEF0CEE0CED0CF300000000000000000000000000000000000000000000000000160016001500680000000000340001000000000000000100002AEA5400000000150015000407D00000F0C7"
)

// 3. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ 4 Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°Ğ¼Ğ¸
public static let mockCellTempsData = Foundation.Data(hex:
    "01034E0514FF6B0CB10CB40CB10CB200000000000000000000000000000000000000000000000000150015001B00650000000000330002000000000000000100002AEA5400E4E5E60004000407D0000000"
)
```

### Bluetooth Identifiers

**Ğ¤Ğ°Ğ¹Ğ»:** `Configuration.swift:63-74`

```swift
extension Identifier {
    // Ğ¡Ñ‚Ğ°Ñ€Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ (v1)
    public static let v1 = Identifier(
        service: ZetaraService(uuidString: "1000"),
        writeCharacteristic: ZetaraCharacteristic(uuidString: "1001", service: .service1000),
        notifyCharacteristic: ZetaraCharacteristic(uuidString: "1002", service: .service1000)
    )

    // ĞĞ¾Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ (v2) â† Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
    public static let v2 = Identifier(
        service: ZetaraService(uuidString: "1006"),
        writeCharacteristic: ZetaraCharacteristic(uuidString: "1008", service: .service1006),
        notifyCharacteristic: ZetaraCharacteristic(uuidString: "1007", service: .service1006)
    )
}
```

**ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Mock Data:**

```swift
// ZetaraManager.swift:448-454
func getBMSData() -> Maybe<Data.BMS> {
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
    let isDeviceConnected = (try? connectedPeripheralSubject.value()) != nil

    // Ğ•ÑĞ»Ğ¸ ĞĞ•Ğ¢ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ¸ ĞµÑÑ‚ÑŒ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    if !isDeviceConnected, let mockBMSData = Self.configuration.mockData {
        print("!!! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ !!!")
        return Maybe.create { [weak self] observer in
            let bytes = [UInt8](mockBMSData)
            if let data = self?.bmsDataHandler.append(bytes) {
                observer(.success(data))
            }
            return Disposables.create {}
        }
    }

    // Ğ•ÑĞ»Ğ¸ Ğ•Ğ¡Ğ¢Ğ¬ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    // ...
}
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Mock Data:**

âœ… Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ±ĞµĞ· Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸
âœ… Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² (Ğ·Ğ°Ñ€ÑĞ´ĞºĞ°, Ñ€Ğ°Ğ·Ñ€ÑĞ´ĞºĞ°)
âœ… ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ° UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
âœ… Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ°

---

## ğŸ“Š Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ¬ĞĞ«Ğ• Ğ¡Ğ¥Ğ•ĞœĞ«

### State Machine (ĞœĞ°ÑˆĞ¸Ğ½Ğ° ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   APP START      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  viewDidLoad()   â”‚
                    â”‚                  â”‚
                    â”‚ Mock Data: ON    â”‚
                    â”‚ Timer: NOT SET   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                     â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Mock Data Mode â”‚    â”‚ Real Conn Modeâ”‚
          â”‚                â”‚    â”‚                â”‚
          â”‚ Timer: ON âœ…   â”‚    â”‚ Timer: OFF âŒ â”‚
          â”‚ Data: Mock     â”‚    â”‚ Wait Connect  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                     â”‚
                  â”‚                     â”‚
                  â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚             â”‚ USER CONNECTS  â”‚
                  â”‚             â”‚   DEVICE       â”‚
                  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                     â”‚
                  â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚             â”‚ Timer: ON âœ…   â”‚
                  â”‚             â”‚ Data: Real     â”‚
                  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                     â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚     DATA UPDATES (Every 5 sec)        â”‚
          â”‚                                       â”‚
          â”‚  getBMSData() â†’ bmsDataSubject        â”‚
          â”‚      â†“                                â”‚
          â”‚  updateUI() â†’ All Components          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow (ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…) - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TIMER (Every 5 sec)                       â”‚
â”‚                                                              â”‚
â”‚  startRefreshBMSData() â†’ Timer.scheduledTimer()             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      getBMSData()                            â”‚
â”‚                                                              â”‚
â”‚  if NO connection && mockData exists:                       â”‚
â”‚     â†’ Use Mock Data                                         â”‚
â”‚  else if connection exists:                                 â”‚
â”‚     â†’ Request Real Data via Bluetooth                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MOCK DATA PATH    â”‚    â”‚   REAL DATA PATH     â”‚
â”‚                      â”‚    â”‚                      â”‚
â”‚ bytes = mockData     â”‚    â”‚ writeValue(cmd)      â”‚
â”‚    â†“                 â”‚    â”‚    â†“                 â”‚
â”‚ bmsDataHandler       â”‚    â”‚ observeValueUpdate() â”‚
â”‚ .append(bytes)       â”‚    â”‚    â†“                 â”‚
â”‚    â†“                 â”‚    â”‚ .crc16Verify() âœ…    â”‚
â”‚ Data.BMS             â”‚    â”‚    â†“                 â”‚
â”‚                      â”‚    â”‚ bmsDataHandler       â”‚
â”‚                      â”‚    â”‚ .append(bytes)       â”‚
â”‚                      â”‚    â”‚    â†“                 â”‚
â”‚                      â”‚    â”‚ Data.BMS             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              bmsDataSubject.onNext(bmsData)                 â”‚
â”‚                                                              â”‚
â”‚  BehaviorSubject<Data.BMS> - RxSwift Observable             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ .subscribe { data in ... }
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            HomeViewController.updateUI(data)                â”‚
â”‚                                                              â”‚
â”‚  if isDeviceActuallyConnected:                              â”‚
â”‚     â†’ Show Real Data                                        â”‚
â”‚  else:                                                       â”‚
â”‚     â†’ Show Dashes ("-- V", "-- A")                          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                    â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚BatteryProgressâ”‚  â”‚BatteryParametersâ”‚  â”‚TabsContainer   â”‚
â”‚     View      â”‚  â”‚      View       â”‚  â”‚    View        â”‚
â”‚               â”‚  â”‚                 â”‚  â”‚                â”‚
â”‚level = 0.87   â”‚  â”‚V: 53.35V        â”‚  â”‚Summary Tab     â”‚
â”‚status =       â”‚  â”‚A: 0.35A         â”‚  â”‚CellVolt Tab    â”‚
â”‚ charging      â”‚  â”‚T: 24Â°C/75Â°F     â”‚  â”‚Temp Tab        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UI Hierarchy (Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ UI)

```
UIViewController (HomeViewController)
    â”‚
    â”œâ”€â”€ view (UIView)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ backgroundImageView (Ñ„Ğ¾Ğ½)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ headerLogoView (ÑˆĞ°Ğ¿ĞºĞ° Ñ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ğ¾Ğ¼)
    â”‚   â”‚
    â”‚   â””â”€â”€ scrollView (UIScrollView)
    â”‚       â”‚
    â”‚       â””â”€â”€ contentStackView (UIStackView, vertical, spacing: 16)
    â”‚           â”‚
    â”‚           â”œâ”€â”€ bluetoothConnectionContainer
    â”‚           â”‚   â””â”€â”€ BluetoothConnectionView
    â”‚           â”‚       â”œâ”€â”€ bluetoothImageView
    â”‚           â”‚       â”œâ”€â”€ deviceNameLabel
    â”‚           â”‚       â””â”€â”€ addButton
    â”‚           â”‚
    â”‚           â”œâ”€â”€ batteryContainer
    â”‚           â”‚   â””â”€â”€ BatteryProgressView (350x350)
    â”‚           â”‚       â”œâ”€â”€ outerCircleLayer (CAShapeLayer)
    â”‚           â”‚       â”œâ”€â”€ progressLayer (CAShapeLayer)
    â”‚           â”‚       â”œâ”€â”€ huskyImageView
    â”‚           â”‚       â”œâ”€â”€ percentLabelContainer
    â”‚           â”‚       â”‚   â””â”€â”€ percentLabel
    â”‚           â”‚       â”œâ”€â”€ minLabel
    â”‚           â”‚       â””â”€â”€ maxLabel
    â”‚           â”‚
    â”‚           â”œâ”€â”€ batteryStatusContainer
    â”‚           â”‚   â””â”€â”€ BatteryStatusView
    â”‚           â”‚       â””â”€â”€ containerView
    â”‚           â”‚           â””â”€â”€ statusLabel
    â”‚           â”‚
    â”‚           â”œâ”€â”€ componentsContainer (height: 80)
    â”‚           â”‚   â””â”€â”€ BatteryParametersView
    â”‚           â”‚       â””â”€â”€ stackView (horizontal)
    â”‚           â”‚           â”œâ”€â”€ voltageComponentView
    â”‚           â”‚           â”œâ”€â”€ currentComponentView
    â”‚           â”‚           â””â”€â”€ temperatureComponentView
    â”‚           â”‚
    â”‚           â”œâ”€â”€ protocolsContainer (height: 86)
    â”‚           â”‚   â””â”€â”€ ProtocolParametersView
    â”‚           â”‚       â””â”€â”€ stackView (horizontal)
    â”‚           â”‚           â”œâ”€â”€ moduleIdBlock
    â”‚           â”‚           â”œâ”€â”€ canBlock
    â”‚           â”‚           â””â”€â”€ rs485Block
    â”‚           â”‚
    â”‚           â”œâ”€â”€ tabsContainer (height: 330)
    â”‚           â”‚   â””â”€â”€ TabsContainerView
    â”‚           â”‚       â”œâ”€â”€ innerContainer
    â”‚           â”‚       â”‚   â”œâ”€â”€ gradientView
    â”‚           â”‚       â”‚   â”œâ”€â”€ tabButtonsStackView (horizontal)
    â”‚           â”‚       â”‚   â”‚   â”œâ”€â”€ "Summary" Button
    â”‚           â”‚       â”‚   â”‚   â”œâ”€â”€ "Cell Voltage" Button
    â”‚           â”‚       â”‚   â”‚   â””â”€â”€ "Temperature" Button
    â”‚           â”‚       â”‚   â””â”€â”€ tabContentContainer
    â”‚           â”‚       â”‚       â”œâ”€â”€ SummaryTabView
    â”‚           â”‚       â”‚       â”‚   â”œâ”€â”€ maxVoltageView
    â”‚           â”‚       â”‚       â”‚   â”œâ”€â”€ minVoltageView
    â”‚           â”‚       â”‚       â”‚   â”œâ”€â”€ voltageDiffView
    â”‚           â”‚       â”‚       â”‚   â”œâ”€â”€ powerView
    â”‚           â”‚       â”‚       â”‚   â”œâ”€â”€ internalTempView
    â”‚           â”‚       â”‚       â”‚   â””â”€â”€ avgVoltageView
    â”‚           â”‚       â”‚       â”‚
    â”‚           â”‚       â”‚       â”œâ”€â”€ CellVoltageTabView
    â”‚           â”‚       â”‚       â”‚   â””â”€â”€ collectionView
    â”‚           â”‚       â”‚       â”‚       â”œâ”€â”€ Cell 1
    â”‚           â”‚       â”‚       â”‚       â”œâ”€â”€ Cell 2
    â”‚           â”‚       â”‚       â”‚       â”œâ”€â”€ ...
    â”‚           â”‚       â”‚       â”‚       â””â”€â”€ Cell 16
    â”‚           â”‚       â”‚       â”‚
    â”‚           â”‚       â”‚       â””â”€â”€ TemperatureTabView
    â”‚           â”‚       â”‚           â””â”€â”€ tableView
    â”‚           â”‚       â”‚               â”œâ”€â”€ Sensor 1 (PCB)
    â”‚           â”‚       â”‚               â”œâ”€â”€ Sensor 2 (Env)
    â”‚           â”‚       â”‚               â”œâ”€â”€ Sensor 3 (Cell 1)
    â”‚           â”‚       â”‚               â”œâ”€â”€ Sensor 4 (Cell 2)
    â”‚           â”‚       â”‚               â””â”€â”€ Sensor 5 (Cell 3)
    â”‚           â”‚
    â”‚           â””â”€â”€ timerContainer
    â”‚               â””â”€â”€ TimerView
    â”‚                   â””â”€â”€ timeLabel
```

---

## â“ FAQ Ğ˜ ĞŸĞ Ğ˜ĞœĞ•Ğ Ğ«

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 1: ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸?

**ĞÑ‚Ğ²ĞµÑ‚:**

ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ‡ĞµÑ€ĞµĞ· Timer Ğ² ZetaraManager:

```swift
// 1. ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Timer
ZetaraManager.shared.connect(peripheral)
    .subscribe(onNext: {
        self.startRefreshBMSData()  // â† Ğ—Ğ°Ğ¿ÑƒÑĞº Timer
    })

// 2. Timer ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´
func startRefreshBMSData() {
    self.timer = Timer.scheduledTimer(
        withTimeInterval: 5.0,  // â† Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»
        repeats: true
    ) { [weak self] _ in
        self?.getBMSData()      // â† Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    }
    self.timer?.fire()          // â† ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾
}

// 3. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· RxSwift Observable
getBMSData()
    .subscribe(onSuccess: { data in
        self.bmsDataSubject.onNext(data)  // â† ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    })

// 4. HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ UI
ZetaraManager.shared.bmsDataSubject
    .subscribe { [weak self] data in
        self?.updateUI(data)  // â† ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ UI
    }
```

**Ğ˜Ñ‚Ğ¾Ğ³Ğ¾:**
- ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ **5 ÑĞµĞºÑƒĞ½Ğ´** â†’ getBMSData() â†’ updateUI()
- ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ **Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾** Ñ‡ĞµÑ€ĞµĞ· `.fire()`
- ĞŸÑ€Ğ¸ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸ â†’ Timer Ğ¾ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ

---

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 2: Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ?

**ĞÑ‚Ğ²ĞµÑ‚:**

ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞ° Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ¸:

```swift
// 1. Connection Monitor Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€Ñ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2 ÑĞµĞº)
func verifyConnectionState() {
    if currentState != .connected {
        print("[CONNECTION] âš ï¸ Phantom connection detected!")
        cleanConnection()  // â† ĞÑ‡Ğ¸ÑÑ‚ĞºĞ°
    }
}

// 2. cleanConnection() Ğ¾ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹
func cleanConnection() {
    // ĞÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
    stopConnectionMonitor()

    // ĞÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Timer Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    timer?.invalidate()
    timer = nil

    // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ ĞºÑÑˆ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²
    cachedModuleIdData = nil
    cachedRS485Data = nil
    cachedCANData = nil

    // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ Request Queue
    lastRequestTime = nil

    // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ nil Ğ² connectedPeripheralSubject
    connectedPeripheralSubject.onNext(nil)
}

// 3. HomeViewController Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ nil Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ UI
ZetaraManager.shared.connectedPeripheralSubject
    .subscribe { [weak self] peripheral in
        if peripheral == nil {
            // ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ¸
            self?.batteryParametersView.updateVoltage("-- V")
            self?.batteryParametersView.updateCurrent("-- A")
            // ...
        }
    }
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ UI:**
- âœ… Ğ’ÑĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ¸: "-- V", "-- A", "-- Â°C"
- âœ… BluetoothConnectionView Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ "Tap to Connect"
- âœ… TimerView ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
- âœ… Battery level = 0%
- âœ… Status = Standby

---

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 3: ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Request Queue?

**ĞÑ‚Ğ²ĞµÑ‚:**

Request Queue Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ¾Ğ¼ 500ms:

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
```swift
// ĞĞ° Settings ÑĞºÑ€Ğ°Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ 3 Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° Ğ¿Ğ¾Ğ´Ñ€ÑĞ´:

// 1. Module ID
ZetaraManager.shared.queuedRequest("getModuleId") {
    ZetaraManager.shared.getModuleId()
}
.subscribe(onSuccess: { data in
    // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Module ID
})

// 2. RS485 (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¶Ğ´ĞµÑ‚ 500ms Ğ¿Ğ¾ÑĞ»Ğµ Module ID)
ZetaraManager.shared.queuedRequest("getRS485") {
    ZetaraManager.shared.getRS485()
}
.subscribe(onSuccess: { data in
    // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° RS485
})

// 3. CAN (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¶Ğ´ĞµÑ‚ 500ms Ğ¿Ğ¾ÑĞ»Ğµ RS485)
ZetaraManager.shared.queuedRequest("getCAN") {
    ZetaraManager.shared.getCAN()
}
.subscribe(onSuccess: { data in
    // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° CAN
})
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
```
T=0ms:     [QUEUE] ğŸ“¥ Request queued: getModuleId
T=0ms:     [QUEUE] ğŸš€ Executing getModuleId
T=320ms:   [QUEUE] âœ… getModuleId completed in 320ms

T=320ms:   [QUEUE] ğŸ“¥ Request queued: getRS485
T=500ms:   [QUEUE] â³ Waiting 180ms before getRS485  â† Ğ–Ğ´ĞµĞ¼ Ğ´Ğ¾ 500ms
T=500ms:   [QUEUE] ğŸš€ Executing getRS485
T=820ms:   [QUEUE] âœ… getRS485 completed in 320ms

T=820ms:   [QUEUE] ğŸ“¥ Request queued: getCAN
T=1000ms:  [QUEUE] â³ Waiting 180ms before getCAN  â† Ğ–Ğ´ĞµĞ¼ Ğ´Ğ¾ 500ms
T=1000ms:  [QUEUE] ğŸš€ Executing getCAN
T=1320ms:  [QUEUE] âœ… getCAN completed in 320ms
```

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾:**
- âŒ Ğ‘ĞµĞ· Queue: Bluetooth Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ½Ğµ ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒÑÑ Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾Ğ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- âœ… Ğ¡ Queue: Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ñ‹

---

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 4: ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Mock Data Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ?

**ĞÑ‚Ğ²ĞµÑ‚:**

Mock Data Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² DEBUG ÑĞ±Ğ¾Ñ€ĞºĞ°Ñ…:

**ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ² AppDelegate:**
```swift
var mockDataForConfig: Foundation.Data? = nil

#if DEBUG
// Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ñ‹Ñ… ÑĞ±Ğ¾Ñ€Ğ¾Ğº
mockDataForConfig = Foundation.Data.mockCellTempsData
#endif

let config = Configuration(
    identifiers: [.v1, .v2],
    refreshBMSTimeInterval: 5,
    mockData: mockDataForConfig
)

ZetaraManager.setup(config)
```

**Ğ’Ñ‹Ğ±Ğ¾Ñ€ Mock Data:**
```swift
// Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: ĞĞ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
mockDataForConfig = Foundation.Data.mockNormalBMSData

// Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ñ€ÑĞ´ĞºĞµ
mockDataForConfig = Foundation.Data.mockInChargingBMSData

// Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 3: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°Ğ¼Ğ¸
mockDataForConfig = Foundation.Data.mockCellTempsData
```

**ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
```swift
func getBMSData() -> Maybe<Data.BMS> {
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
    let isDeviceConnected = ...

    // Ğ•ÑĞ»Ğ¸ ĞĞ•Ğ¢ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Mock Data
    if !isDeviceConnected, let mockBMSData = Self.configuration.mockData {
        return Maybe.create { observer in
            let bytes = [UInt8](mockBMSData)
            if let data = self.bmsDataHandler.append(bytes) {
                observer(.success(data))  // â† ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
            }
        }
    }

    // Ğ•ÑĞ»Ğ¸ Ğ•Ğ¡Ğ¢Ğ¬ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    // ...
}
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:**
- âœ… Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ±ĞµĞ· Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸
- âœ… Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² (Ğ·Ğ°Ñ€ÑĞ´ĞºĞ°, Ñ€Ğ°Ğ·Ñ€ÑĞ´ĞºĞ°, Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°)
- âœ… ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ° UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- âœ… Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ°

**ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Mock Data:**
```swift
#if RELEASE
// Ğ”Ğ»Ñ Ñ€ĞµĞ»Ğ¸Ğ·Ğ½Ñ‹Ñ… ÑĞ±Ğ¾Ñ€Ğ¾Ğº Ğ¼Ğ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹
mockDataForConfig = nil
#endif
```

---

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 5: ĞšĞ°Ğº Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½?

**ĞÑ‚Ğ²ĞµÑ‚:**

**Ğ¨Ğ°Ğ³ 1: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚**
```swift
// NewComponentView.swift
class NewComponentView: UIView {
    override init(frame: CGRect) {
        super.init(frame: frame)
        setupView()
    }

    private func setupView() {
        // ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° UI
    }

    func updateData(_ data: String) {
        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    }
}
```

**Ğ¨Ğ°Ğ³ 2: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² HomeViewController**
```swift
// Ğ¡Ğ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
private var newComponentView: NewComponentView!

// Ğ’ setupHeaderView():
let newContainer = UIView()
contentStackView.addArrangedSubview(newContainer)

newComponentView = NewComponentView()
newComponentView.translatesAutoresizingMaskIntoConstraints = false
newContainer.addSubview(newComponentView)

newComponentView.snp.makeConstraints { make in
    make.edges.equalToSuperview()
}
```

**Ğ¨Ğ°Ğ³ 3: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² updateUI()**
```swift
func updateUI(_ data: Zetara.Data.BMS) {
    // ...

    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
    if isDeviceActuallyConnected {
        newComponentView.updateData("\(data.voltage)V")
    } else {
        newComponentView.updateData("-- V")
    }
}
```

**Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!** ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒÑÑ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´.

---

### Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 6: ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…?

**ĞÑ‚Ğ²ĞµÑ‚:**

Ğ”Ğ°, Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² AppDelegate:

**Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ°:**
```swift
// AppDelegate.swift
let config = Configuration(
    identifiers: [.v1, .v2],
    refreshBMSTimeInterval: 3,  // â† ĞœĞµĞ½ÑĞµĞ¼ Ğ½Ğ° 3 ÑĞµĞºÑƒĞ½Ğ´Ñ‹ (Ğ±Ñ‹Ğ»Ğ¾ 5)
    mockData: mockDataForConfig
)

ZetaraManager.setup(config)
```

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:**
- âš¡ **1-2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹:** ĞÑ‡ĞµĞ½ÑŒ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ½Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ
- âœ… **3-5 ÑĞµĞºÑƒĞ½Ğ´:** ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
- ğŸŒ **10+ ÑĞµĞºÑƒĞ½Ğ´:** ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²Ğ°Ñ‚ÑŒ

**Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:**
```
Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» 1 ÑĞµĞº:
  â†’ 60 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ
  â†’ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ½Ğ° Bluetooth
  â†’ Ğ‘Ñ‹ÑÑ‚Ñ€ĞµĞµ Ñ€Ğ°Ğ·Ñ€ÑĞ¶Ğ°ĞµÑ‚ÑÑ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°

Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» 5 ÑĞµĞº:
  â†’ 12 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ âœ…
  â†’ ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ½Ğ° Bluetooth
  â†’ Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸

Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» 10 ÑĞµĞº:
  â†’ 6 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ
  â†’ ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°
  â†’ Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²Ğ°Ñ‚ÑŒ
```

---

## ğŸ“ Ğ¡Ğ’Ğ¯Ğ—ĞĞĞĞ«Ğ• Ğ¤ĞĞ™Ğ›Ğ«

### Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **HomeViewController.swift** | 653 | Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€ Home ÑĞºÑ€Ğ°Ğ½Ğ° |
| â”œâ”€ viewDidLoad | 92-130 | Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ½Ğ° RxSwift |
| â”œâ”€ setupHeaderView | 202-459 | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²ÑĞµĞ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ UI |
| â”œâ”€ setupObservers | 133-166 | RxSwift Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ½Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ |
| â”œâ”€ updateUI | 461-590 | **Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ ĞœĞ•Ğ¢ĞĞ”** - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² |
| â”œâ”€ updateTitle | 175-199 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° |
| â””â”€ handleBluetoothConnectionTap | 168-172 | ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ½Ğ° ÑĞºÑ€Ğ°Ğ½ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ |

### Bluetooth Manager

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **ZetaraManager.swift** | 643 | ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Bluetooth ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ |
| â”œâ”€ init | 80-106 | Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ½Ğ° AppDelegate events |
| â”œâ”€ setup | 112-123 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ |
| â”œâ”€ connect | 183-239 | ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ |
| â”œâ”€ disconnect | 241-243 | ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° |
| â”œâ”€ observeDisconnect | 279-293 | ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ |
| â”œâ”€ cleanConnection | 254-277 | **ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ** - Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ²ÑĞµÑ… Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² |
| â”œâ”€ queuedRequest | 302-346 | **Request Queue** - Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² (500ms) |
| â”œâ”€ startConnectionMonitor | 351-366 | Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ (2 ÑĞµĞº) |
| â”œâ”€ stopConnectionMonitor | 369-376 | ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° |
| â”œâ”€ verifyConnectionState | 379-399 | **ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ** - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° phantom connections |
| â”œâ”€ isCacheValidForCurrentDevice | 402-409 | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸ ĞºÑÑˆĞ° |
| â”œâ”€ startRefreshBMSData | 414-427 | **Ğ—ĞĞŸĞ£Ğ¡Ğš TIMER** - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº |
| â”œâ”€ pauseRefreshBMSData | 429-432 | ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Timer (background) |
| â”œâ”€ resumeRefreshBMSData | 434-439 | Ğ’Ğ¾Ğ·Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Timer (foreground) |
| â”œâ”€ getBMSData | 442-545 | **Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ ĞœĞ•Ğ¢ĞĞ”** - Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS |
| â”œâ”€ getModuleId | 547-549 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Module ID |
| â”œâ”€ setModuleId | 551-555 | Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Module ID |
| â”œâ”€ getRS485 | 557-559 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ RS485 Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â”œâ”€ setRS485 | 561-564 | Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° RS485 Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â”œâ”€ getCAN | 566-574 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ CAN Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â”œâ”€ setCAN | 576-579 | Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° CAN Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â””â”€ writeControlData | 582-621 | Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ñ‡ĞµÑ€ĞµĞ· Bluetooth |

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **Data.swift** | 296 | Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS |
| â”œâ”€ BMS | 12-141 | **Ğ“Ğ›ĞĞ’ĞĞĞ¯ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ** Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS |
| â”‚  â”œâ”€ Index | 13-26 | Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ¿Ğ¾Ğ»ĞµĞ¹ Ğ² Ğ±Ğ°Ğ¹Ñ‚Ğ¾Ğ²Ğ¾Ğ¼ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğµ |
| â”‚  â”œâ”€ Constant | 28-31 | ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹ (normalCellCount = 16) |
| â”‚  â”œâ”€ FunctionCode | 33-51 | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ´Ñ‹ (0x03, 0x04, 0x10) |
| â”‚  â”œâ”€ Status | 53-84 | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑÑ‹ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸ (charging, discharging, etc.) |
| â”‚  â””â”€ init | 106-140 | ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ±Ğ°Ğ¹Ñ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ğ² ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ |
| â”œâ”€ BMSDataHandler | 143-198 | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… |
| â”‚  â”œâ”€ append | 146-193 | ĞĞ°ĞºĞ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ² (frames) |
| â”‚  â””â”€ reset | 195-197 | ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ° |
| â””â”€ Array extensions | 243-295 | Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ±Ğ°Ğ¹Ñ‚Ğ°Ğ¼Ğ¸ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **ControlData.swift** | 204 | Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² |
| â”œâ”€ ModuleIdControlData | 69-102 | Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Module ID (1-16) |
| â”‚  â”œâ”€ supportedIds | 72 | Array(1...16) |
| â”‚  â”œâ”€ readableIds | 87-89 | ["ID 1", ..., "ID 16"] |
| â”‚  â”œâ”€ readableId | 91-93 | "ID X" Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ |
| â”‚  â””â”€ **otherProtocolsEnabled** | 99-101 | **Ğ¯Ğ”Ğ Ğ Ğ›ĞĞ“Ğ˜ĞšĞ˜** - moduleId == 1 |
| â”œâ”€ RS485ControlData | 104-139 | Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ RS485 Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â”‚  â”œâ”€ readableProtocol | 123-125 | Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» |
| â”‚  â””â”€ readableProtocols | 136-138 | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² |
| â”œâ”€ CANControlData | 141-175 | Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ CAN Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |
| â”‚  â”œâ”€ readableProtocol | 159-161 | Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» |
| â”‚  â””â”€ readableProtocols | 172-174 | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² |
| â””â”€ parseProtocols | 177-193 | ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² |

### UI ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **BluetoothConnectionView.swift** | 137 | ĞŸĞ»Ğ°ÑˆĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Bluetooth |
| â”œâ”€ updateDeviceName | 133-135 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° |
| â””â”€ onTap | 18 | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **BatteryProgressView.swift** | 250 | ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ·Ğ°Ñ€ÑĞ´Ğ° |
| â”œâ”€ level | 78-86 | Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ğ·Ğ°Ñ€ÑĞ´Ğ° (0.0-1.0) |
| â”œâ”€ updateProgress | 216-242 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹ |
| â””â”€ progressColor | 89-97 | Ğ¦Ğ²ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° (ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹/Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹/Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹) |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **BatteryStatusView.swift** | 126 | Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° |
| â”œâ”€ updateStatus | 106-110 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° |
| â”œâ”€ updateStatusAnimated | 114-124 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹ |
| â””â”€ updateStatusStyle | 76-100 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² Ñ„Ğ¾Ğ½Ğ° |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **BatteryParametersView.swift** | 151 | ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ, Ñ‚Ğ¾Ğº, Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° |
| â”œâ”€ updateVoltage | 93-95 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ |
| â”œâ”€ updateCurrent | 99-101 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾ĞºĞ° |
| â”œâ”€ updateTemperature | 105-107 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ |
| â””â”€ updateAllParameters | 114-118 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **ProtocolParametersView.swift** | 163 | Module ID, CAN, RS485 |
| â”œâ”€ updateValues | 58-90 | **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ· ĞºÑÑˆĞ° ZetaraManager** |
| â””â”€ ProtocolBlock | 96-162 | Ğ‘Ğ»Ğ¾Ğº Ğ´Ğ»Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **TabsContainerView.swift** | 282 | ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸ |
| â”œâ”€ activateTab | 193-214 | ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ°Ğ±Ğ° |
| â”œâ”€ getSummaryTabView | 225-227 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Summary Ñ‚Ğ°Ğ±Ğ° |
| â”œâ”€ getCellVoltageTabView | 231-233 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ CellVoltage Ñ‚Ğ°Ğ±Ğ° |
| â””â”€ getTemperatureTabView | 237-239 | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Temperature Ñ‚Ğ°Ğ±Ğ° |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **SummaryTabView.swift** | 357 | Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² (6 Ğ±Ğ»Ğ¾ĞºĞ¾Ğ²) |
| â”œâ”€ updateAllParameters | 173-193 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² |
| â”œâ”€ ParameterView | 228-356 | Ğ‘Ğ»Ğ¾Ğº Ğ´Ğ»Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ° |
| â””â”€ setup | 310-350 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ±Ğ»Ğ¾ĞºĞ° (icon, title, value) |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **CellVoltageTabView.swift** | 367 | ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ 16 ÑÑ‡ĞµĞµĞº (ÑĞµÑ‚ĞºĞ° 4x4) |
| â”œâ”€ updateCellVoltages | 121-128 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğ¹ |
| â”œâ”€ CellVoltageCell | 190-366 | Ğ¯Ñ‡ĞµĞ¹ĞºĞ° ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸ |
| â”œâ”€ configure | 345-355 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑÑ‡ĞµĞ¹ĞºĞ¸ |
| â””â”€ configureDashes | 359-365 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ñ Ğ¿Ñ€Ğ¾Ñ‡ĞµÑ€ĞºĞ°Ğ¼Ğ¸ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **TemperatureTabView.swift** | 426 | Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ 5 Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ² (ÑĞ¿Ğ¸ÑĞ¾Ğº) |
| â”œâ”€ updateTemperatures | 118-175 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€ |
| â”œâ”€ TemperatureSensorCell | 261-425 | Ğ¯Ñ‡ĞµĞ¹ĞºĞ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ |
| â””â”€ configure | 412-424 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑÑ‡ĞµĞ¹ĞºĞ¸ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **TimerView.swift** | 80 | Ğ’Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ |
| â”œâ”€ updateTime | 64-66 | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ |
| â””â”€ setHidden | 76-78 | Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ/Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **HeaderLogoView.swift** | ~100 | Ğ¨Ğ°Ğ¿ĞºĞ° Ñ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ğ¾Ğ¼ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **ComponentView.swift** | ~150 | ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² |

### Configuration

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **Configuration.swift** | 99 | ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ |
| â”œâ”€ Configuration struct | 10-48 | Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ |
| â”œâ”€ default | 29 | ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ |
| â”œâ”€ Identifier.v1 | 64-66 | Ğ¡Ñ‚Ğ°Ñ€Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Bluetooth |
| â”œâ”€ Identifier.v2 | 67-69 | ĞĞ¾Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Bluetooth (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ) |
| â”œâ”€ mockNormalBMSData | 88 | ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ |
| â”œâ”€ mockInChargingBMSData | 91 | ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: Ğ·Ğ°Ñ€ÑĞ´ĞºĞ° |
| â””â”€ mockCellTempsData | 94 | ĞœĞ¾Ğº-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ |

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **AppDelegate.swift** | 92 | Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ |
| â”œâ”€ didFinishLaunchingWithOptions | 18-46 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ZetaraManager |
| â””â”€ setup Configuration | 32-42 | **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Mock Data Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ°** |

### Extensions

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **Extensions.swift** | 126 | Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ |
| â”œâ”€ Array(hex:) | 12-49 | ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ hex ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ² Ğ±Ğ°Ğ¹Ñ‚Ñ‹ |
| â”œâ”€ toHexString() | 51-59 | Ğ‘Ğ°Ğ¹Ñ‚Ñ‹ Ğ² hex ÑÑ‚Ñ€Ğ¾ĞºÑƒ |
| â”œâ”€ crc16Verify() | 74-95 | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° CRC16 |
| â””â”€ crc16() | 97-123 | Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ CRC16 |

### Connectivity (Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ)

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------|----------|
| **ConnectivityViewController.swift** | ~300 | Ğ­ĞºÑ€Ğ°Ğ½ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ |
| â”œâ”€ viewDidLoad | 41-102 | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° UI Ğ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº |
| â”œâ”€ didSelectRowAt | 122-158 | ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¼Ñƒ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ñƒ |
| â””â”€ loadProtocolsViaQueue | 144-147 | **Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ** |

---

## ğŸ”§ Ğ¢Ğ•Ğ¥ĞĞ˜Ğ§Ğ•Ğ¡ĞšĞĞ¯ Ğ¡ĞŸĞ ĞĞ’ĞšĞ

### RxSwift Subjects

**BehaviorSubject:**
```swift
public var bmsDataSubject = BehaviorSubject<Data.BMS>(value: Data.BMS())
```

- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
- ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ real-time Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS

**Subscription lifecycle:**
```swift
// ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°
ZetaraManager.shared.bmsDataSubject
    .subscribe { data in
        // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    }
    .disposed(by: disposeBag)  // â† ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ°

// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
bmsDataSubject.onNext(newData)  // â† Ğ’ÑĞµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚
```

### SnapKit Constraints

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**
```swift
view.snp.makeConstraints { make in
    make.top.equalTo(headerLogoView.bottomAnchor)
    make.leading.trailing.equalToSuperview()
    make.bottom.equalToSuperview()
}
```

**ĞœĞ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ:**
```swift
view.snp.remakeConstraints { make in
    // ĞŸĞµÑ€ĞµÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²ÑĞµ constraints
}

view.snp.updateConstraints { make in
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ constraints
}
```

### Bluetooth Protocol

**Service Ğ¸ Characteristics:**
```
Service UUID: 1006
â”œâ”€â”€ Write Characteristic: 1008 (ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğº BMS)
â””â”€â”€ Notify Characteristic: 1007 (Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚ BMS)
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:**
```swift
// ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… BMS
let data = Foundation.Data(hex: "01030000002705d0")
//                         â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â””â””â”€ CRC16
//                         â”‚â”‚â”‚â”‚â””â””â”€ Length (39 bytes)
//                         â”‚â”‚â””â””â”€ Start address (0x0000)
//                         â”‚â””â”€ Function code (0x03)
//                         â””â”€ Device address (0x01)

peripheral.writeValue(data, for: writeCharacteristic, type: .withResponse)
```

### Memory Management

**Weak Self:**
```swift
ZetaraManager.shared.bmsDataSubject
    .subscribe { [weak self] data in
        self?.updateUI(data)  // â† ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ retain cycle
    }
```

**Dispose Bags:**
```swift
var disposeBag = DisposeBag()

// ĞŸÑ€Ğ¸ viewWillDisappear:
override func viewWillDisappear(_ animated: Bool) {
    disposeBag = DisposeBag()  // â† ĞÑ‚Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ²ÑĞµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
}
```

---

## ğŸ“ CHANGELOG

### Ğ’ĞµÑ€ÑĞ¸Ñ 1.0 (07.10.2025)
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ° Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸
- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ²ÑĞµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑĞµĞºÑ†Ğ¸Ğ¸
- Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ° Ñ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°Ğ¼Ğ¸ ÑÑ‚Ñ€Ğ¾Ğº
- Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ…ĞµĞ¼Ñ‹ Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹
- FAQ Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ 10 UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Request Queue Ğ¸ Connection Monitor
- ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Mock Data Ğ¸ Configuration

---

## ğŸ¯ Ğ¡Ğ›Ğ•Ğ”Ğ£Ğ®Ğ©Ğ˜Ğ• Ğ¨ĞĞ“Ğ˜

Ğ”Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²:

1. **ĞŸÑ€Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°:**
   - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ² `BatteryMonitorBL/Views/`
   - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² `setupHeaderView()` Ğ² HomeViewController
   - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ² `updateUI()` Ğ´Ğ»Ñ real-time Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
   - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ!

2. **ĞŸÑ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ:**
   - Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ `refreshBMSTimeInterval` Ğ² AppDelegate
   - ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
   - Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğµ

3. **ĞŸÑ€Ğ¸ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğµ:**
   - Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ RxSwift Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº
   - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° ÑÑ‚Ñ€Ğ¾Ğº Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸
   - ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ²
   - Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ Mock Data Ğ¸ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾Ğ¼

4. **ĞŸÑ€Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² BMS:**
   - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `Data.BMS` ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ² `Data.swift`
   - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ² `init(_ bytes: [UInt8])`
   - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `updateUI()` Ğ² HomeViewController
   - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ

---

**ĞšĞ¾Ğ½ĞµÑ† Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°**

Ğ­Ñ‚Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ¸Ğ·Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ· Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Home ÑĞºÑ€Ğ°Ğ½Ğ°!
