# –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã Claude –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ

## –ö–æ–º–º–∏—Ç—ã –≤ Git

### –ó–ê–ü–†–ï–©–ï–ù–û
- **–ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–ø–∏—Ä–∞–π—Ç—ã Claude** (`Generated with Claude Code`, `Co-Authored-By: Claude`) –≤ –∫–æ–º–º–∏—Ç—ã
- –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

### –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
1. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º** –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
   ```bash
   git status
   git diff --staged  # –∏–ª–∏ git diff
   git log -5 --oneline
   ```

2. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   - –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã –∏ –∑–∞—á–µ–º
   - –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è (fix, feat, docs, refactor –∏ —Ç.–¥.)
   - –°—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ 1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö

3. **–ü–æ–∫–∞–∑–∞—Ç—å draft commit message** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è

4. **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è** –¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç

5. **–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ Build N** —Å–æ–∑–¥–∞—Ç—å git —Ç–µ–≥:
   ```bash
   git tag -a build-N -m "Build N: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
   ```
   **–ö–†–ò–¢–ò–ß–ù–û:** –ù–µ –∑–∞–±—ã–≤–∞—Ç—å —Ç–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –±–∏–ª–¥!

### –°—Ç–∏–ª—å –∫–æ–º–º–∏—Ç–æ–≤ –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
–ö–æ–º–º–∏—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏:

**–§–æ—Ä–º–∞—Ç:**
```
fix: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (Build N)

Root Cause:
[–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã]

Solution:
[–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è]

Changes:
- –§–∞–π–ª1:
  * –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1 (lines X-Y)
  * –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2
- –§–∞–π–ª2:
  * –ò–∑–º–µ–Ω–µ–Ω–∏–µ

Expected Result:
- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç 1
- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç 2

Build N Status: Ready for testing
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:**
```
fix: Add launch-time fresh peripheral retrieval to prevent stale characteristics (Build 34)
fix: Eliminate error 4 by retrieving fresh peripheral instance (Build 33)
fix: Fix UITableView crashes in Build 31 (Build 32)
docs: Update THREAD-001 with Build 30 failure and Build 31 fix
```

**–í–∞–∂–Ω–æ:**
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å Root Cause, Solution, Changes, Expected Result
- –£–∫–∞–∑—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –û–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ë–µ–∑ –∫–æ–ø–∏—Ä–∞–π—Ç–æ–≤ Claude!

## üéØ –ö–†–ò–¢–ò–ß–ù–û: –§–æ–∫—É—Å –Ω–∞ –æ–¥–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ

### –ü–†–ê–í–ò–õ–û: –û–î–ù–ê –ü–†–û–ë–õ–ï–ú–ê = –û–î–ò–ù BUILD

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ–º –¥–æ–ª–≥–æ –Ω–∞–¥ –ø—Ä–æ–±–ª–µ–º–æ–π –∏ –Ω–∏–∫–∞–∫ –Ω–µ –º–æ–∂–µ–º –∏—Å–ø—Ä–∞–≤–∏—Ç—å - –§–û–ö–£–°–ò–†–£–ï–ú–°–Ø –ù–ê –û–î–ù–û–ô –ø—Ä–æ–±–ª–µ–º–µ!**

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–§–æ–∫—É—Å —Ç–æ–ª—å–∫–æ –Ω–∞ –û–î–ù–û–ô –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ**
   - –ö–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç: "Settings –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—ã" ‚Üí —Ñ–∏–∫—Å–∏–º –¢–û–õ–¨–ö–û —ç—Ç–æ
   - –ù–ï –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ø—É—Ç–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å error 4, crashes, –∏–ª–∏ –¥—Ä—É–≥–∏–µ issues

2. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∞—Ö**
   - –í–∏–¥–∏—à—å error 4 –≤ –ª–æ–≥–∞—Ö? ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–π –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø—Ä–æ—Å–∏–ª —ç—Ç–æ —Ñ–∏–∫—Å–∏—Ç—å
   - –í–∏–¥–∏—à—å crash? ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–π –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —Ñ–∏–∫—Å–∏–º Settings display
   - –í–∏–¥–∏—à—å reconnection issue? ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–π –µ—Å–ª–∏ —Ñ–æ–∫—É—Å –Ω–∞ –¥—Ä—É–≥–æ–º

3. **–í –ö–û–ú–ú–ò–¢–ï —É–∫–∞–∑—ã–≤–∞—Ç—å FOCUS**
   ```
   fix: Fix Settings screen protocol display (Build 36)

   **FOCUS:** Settings screen protocol display ONLY.
   Not addressing error 4 reconnection issues in this build.
   ```

4. **–ü—Ä–æ—Ü–µ—Å—Å:**
   - –û–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Üí –û–¥–∏–Ω FIX ‚Üí –¢–µ—Å—Ç–∏—Ä—É–µ–º ‚Üí –°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞
   - –ù–ï –ø—ã—Ç–∞—Ç—å—Å—è —Ä–µ—à–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É

**–ü—Ä–∏–º–µ—Ä Build 36:**
- ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: "–§–∏–∫—Å–∏–º Settings –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –ø–æ—Å–ª–µ reconnect"
- ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: "–§–∏–∫—Å–∏–º Settings + error 4 + reconnection + crashes"

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- –ù–µ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, —á—Ç–æ –Ω–µ—Ç
- –°–ª–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å root cause
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—á–Ω–æ—Å—Ç—å

## –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º

### Swift
- –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å—Ç–∏–ª—é –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å guard statements –¥–ª—è —Ä–∞–Ω–Ω–∏—Ö –≤—ã—Ö–æ–¥–æ–≤
- RxSwift: `.value()` —ç—Ç–æ –º–µ—Ç–æ–¥, –Ω–µ —Å–≤–æ–π—Å—Ç–≤–æ - –≤—ã–∑—ã–≤–∞—Ç—å —Å `()`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª—è—Ç—å THREAD-001 –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- –î–æ–±–∞–≤–ª—è—Ç—å –ª–æ–≥–∏ –≤ `docs/fix-history/logs/`
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –∏ –∏—Ö –ø—Ä–∏—á–∏–Ω—ã

## Build Versioning
- –ö–∞–∂–¥—ã–π –∑–Ω–∞—á–∏–º—ã–π —Ñ–∏–∫—Å = –Ω–æ–≤—ã–π Build –Ω–æ–º–µ—Ä
- –û–±–Ω–æ–≤–ª—è—Ç—å `CURRENT_PROJECT_VERSION` –≤ `project.pbxproj`
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ THREAD-001

### üö® –ö–†–ò–¢–ò–ß–ù–û: –õ–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–ª–¥–∞

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç Joshua:**

1. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –∏–∑ Downloads:**
   ```bash
   cp ~/Downloads/bigbattery_logs_*.json docs/fix-history/logs/
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –±–∏–ª–¥–∞ —Å–µ–∫—Ü–∏—é "Diagnostic Logs":**
   ```markdown
   ## Diagnostic Logs:

   - File: `docs/fix-history/logs/bigbattery_logs_YYYYMMDD_HHMMSS.json`
   - Timestamp: HH:MM:SS DD.MM.YYYY
   - Build: N
   - Status: [PASSED/FAILED]
   ```

3. **–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - Build 29: `docs/issue-threads/THREAD-001/build-29.md` (—Å—Ç—Ä–æ–∫–∏ 90-95)
   - Build 39: `docs/issue-threads/THREAD-001/build-39.md` (6 —Ç–µ—Å—Ç–æ–≤ = 6 —Ñ–∞–π–ª–æ–≤)

**‚ö†Ô∏è –ë–ï–ó –õ–û–ì–û–í –±–∏–ª–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ù–ï –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º!**

–≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Ç–æ–º—É —á—Ç–æ Claude –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–±—ã–≤–∞–ª –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–∏–ª–¥–æ–≤.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û–ø–∏—Å—ã–≤–∞—Ç—å expected results –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–ª–¥–∞
- –ñ–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç Joshua
