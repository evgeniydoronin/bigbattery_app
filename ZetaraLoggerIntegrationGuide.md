# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ZetaraLogger —Å AppLogger

## –û–±–∑–æ—Ä

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ZetaraLogger –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å–µ–º –ª–æ–≥–∞–º –∏–∑ ZetaraManager –ø–æ–ø–∞–¥–∞—Ç—å –≤ AppLogger –∏ –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ email-–æ—Ç—á–µ—Ç—ã —Å —ç–∫—Ä–∞–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
ZetaraManager (–º–æ–¥—É–ª—å Zetara)
    ‚Üì ZetaraLogger.info/debug/error/etc
ZetaraLoggerProtocol (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
    ‚Üì —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
ZetaraLoggerBridge (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
    ‚Üì –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
AppLogger (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
    ‚Üì –≤–∫–ª—é—á–µ–Ω–∏–µ –≤ –æ—Ç—á–µ—Ç—ã
DiagnosticsViewController email
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. ZetaraLogger.swift (–º–æ–¥—É–ª—å Zetara)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: `ZetaraLoggerProtocol` —Å –º–µ—Ç–æ–¥–∞–º–∏ debug/info/warning/error/critical
- **–°–∏–Ω–≥–ª—Ç–æ–Ω**: `ZetaraLogger.shared` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **Fallback**: –ï—Å–ª–∏ bridge –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ª–æ–≥–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ print()

### 2. ZetaraLoggerBridge.swift (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤—ã –≤ AppLogger
- **–£–º–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç component –∏ event –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é —Å–æ–æ–±—â–µ–Ω–∏—è
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**: –î–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã—Ö –∏ Bluetooth –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ ZetaraManager.swift
- **30+ –∑–∞–º–µ–Ω**: –í—Å–µ `Self.protocolLog()` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `ZetaraLogger.**()`
- **–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**:
  - `debug()` - Raw –¥–∞–Ω–Ω—ã–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `info()` - –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è  
  - `error()` - –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞, –Ω–µ—É–¥–∞—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ AppDelegate.swift
```swift
let loggerBridge = ZetaraLoggerBridge()
ZetaraLogger.shared = loggerBridge
```

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ):
- `protocolModule_ID` - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å "Module ID", "getModuleId"
- `protocolModule_CAN` - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å "CAN", "getCAN"  
- `protocolModule_RS485` - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å "RS485", "getRS485"
- `bluetoothManager` - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å "Bluetooth", "writeControlData"
- `protocolModule` - –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –°–æ–±—ã—Ç–∏—è (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ):
- `protocolOperationStarted` - "üì°", "called", "started"
- `protocolOperationCompleted` - "‚úÖ", "successfully", "completed"
- `protocolOperationFailed` - "‚ùå", "Failed", "failed"
- `errorOccurred` - "üí•", "request failed"
- `dataReceived` - "üì•", "received", "response"
- `connectionStarted` - "üì§", "Sending"
- `dataUpdated` - "üé≠", "Mock"
- –∏ –¥—Ä.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ ZetaraManager

### –î–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
```swift
Self.protocolLog("üì° getModuleId() called", details: ["deviceConnected": true])
```

### –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
```swift
ZetaraLogger.info("üì° getModuleId() called", details: ["deviceConnected": true])
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ email-–æ—Ç—á–µ—Ç–∞—Ö

–¢–µ–ø–µ—Ä—å –≤ —Å–µ–∫—Ü–∏—è—Ö `protocolInfo` –∏ `protocolEvents` DiagnosticsViewController –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã:
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏
- Raw –¥–∞–Ω–Ω—ã–µ –≤ hex-—Ñ–æ—Ä–º–∞—Ç–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—Ö–æ–≤ –∏ –Ω–µ—É–¥–∞—á
- –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∏—Ö –¥–µ—Ç–∞–ª–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `ZetaraLoggerTest.swift` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –†–∞–±–æ—Ç—ã fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ AppLogger
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –¢–æ–ª—å–∫–æ 4 —Ñ–∞–π–ª–∞ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: Fallback –Ω–∞ print() –µ—Å–ª–∏ bridge –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è**: –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑—ã–≤–∞—Ç—å component/event  
‚úÖ **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: –í—Å–µ 30+ –ª–æ–≥–æ–≤ –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –ª–æ–≥–æ–≤  
‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π**: ZetaraManager –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º  

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `Zetara/Sources/ZetaraLogger.swift`
- `BatteryMonitorBL/Utils/ZetaraLoggerBridge.swift` 
- `ZetaraLoggerTest.swift` (—Ç–µ—Å—Ç—ã)

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `Zetara/Sources/ZetaraManager.swift` (–∑–∞–º–µ–Ω–∞ protocolLog)
- `BatteryMonitorBL/App/AppDelegate.swift` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- `BatteryMonitorBL/Utils/AppLogger.swift` (–Ω–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ mock –¥–∞–Ω–Ω—ã–µ  
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Diagnostics
4. –ù–∞–∂–º–∏—Ç–µ "Send Logs to Developer"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ü–∏–π `protocolEvents` —Å –¥–∞–Ω–Ω—ã–º–∏